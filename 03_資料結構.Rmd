# 初級R- 資料結構

R的資料結構以維度來看，可區分成1維、2維及3維以上，以資料型態可分為資料同質與資料不同質。資料同質表示存放資料元素全部相同，如全是數字，或全都是文字。非同質表示可同時放數字、文字及日期等各種資料元素。實務上數據分析最常用到資料結構就是二維不同質的 data.frame 資料框，其次是一維同質的Vector 向量。而在網路爬蟲時，經常將下載好的JSON檔轉換成 三維不同質list 或是 二維不同質 data.frame，下表是根據維度及資料型態區分出的5個不同資料結構

| 結構\\資料型態 | 資料型態(相同) | 資料型態(不同)     |
|----------------|----------------|--------------------|
| 1維結構        | 向量(vector)   | --                 |
| 2維結構        | 矩陣(matrix)   | 資料框(data.frame) |
| 3維結構以上    | 陣列(array)    | 列表(list)         |

## 資料型態相同

### 一維結構(Vector)

向量(Vector)是R語言中最簡單的資料結構，語法是用c 來集合

```{r echo=TRUE}
tel <- c(0912370456,0954310641,0965120744)
print(tel)
name <- c("王小名","張大同")
print(name)
```

### 二維結構(matrix)

matrix又稱成矩陣，可處理二維資料，是由一組相同資料元素組成，可以是一組數字、也可以是一組純文字，生成一個矩陣很簡單，使用`matrix`關鍵字，一共有5個參數可以設定

-   第一參數 data 放資料 (通常是放向量Vector)

-   第二參數 nrow 設定列數

-   第三參數 ncol 設定行數

-   第四參數 byrow 設定資料擺放順序是否依循row依序放入，預設為FALSE，表示是直行依序放入

-   第五參數 dimnames 設定列名及行名，通常用list資料型態來表示list[1]為列名(row),list[2]為行名(column)

```{r echo=TRUE}
#ncol為列的設定,nrow = 行設定
matrix(data =1:28,ncol = 7,byrow = TRUE)
```

使用dimnames來設定列名與行名

```{r echo=TRUE}
matrix(data =1:28,ncol = 7,byrow = TRUE, 
             dimnames = list(c("第1週","第2週","第3週","第4週"),
                              c("星期一","星期二","星期三","星期四","星期五","星期六","星期日") ))

```

### 三維結構 (array)

陣列array能處理三維以上資料，同樣由一組相同資料元素組成,使用`array`關鍵字生成一個陣列，與matrix不同，array只有3個參數可以設定(無ncol、nrow及byrow參數)，數字擺放順序都是依垂直行放入，相關參數說明如下:

-   第一參數 data 放資料 (通常是放向量Vector)

-   第二參數 dim 設定 列數、行數及第三緯度以上數量

-   第三參數 dimnames 設定列名及行名等，以list資料型態來表示list[1]為列名(row),list[2]為行名(column),list[3]放第三維度以後的名稱

3維的array

```{r echo=TRUE}
array(1:24,c(3,4,2),
      dimnames = list(產品=c("紅茶","綠茶","烏龍茶"),
                      月份=c("1月","2月","3月","4月"),
                      區域=c("東區","西區")
                      ))
```

4維的array

```{r echo=TRUE}
array(1:36,c(3,3,2,2),
      dimnames = list(產品=c("第一季","第二季","第三季"),
                      月份=c("紅茶","綠茶","烏龍茶"),
                      區域=c("東區","西區"),
                      縣市=c("台中","台北")
                      ))
```

## 資料型態不同

### 二維結構 (data.frame)

### 三維結構 (list)

list 和 data.frame 最大差別是data.frame屬於**二維資料**，而list屬於**三維資料**，do.call亦能處理三維資料的list格式

## 特殊資料結構
