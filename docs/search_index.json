<<<<<<< HEAD
[["初級r--系統環境設定.html", "Chapter 2 初級R- 系統環境設定 2.1 系統環境查詢 2.2 環境設定函數 2.3 更改環境語系 2.4 新增專案 2.5 常用快速鍵", " Chapter 2 初級R- 系統環境設定 2.1 系統環境查詢 使用sessionInfo()可以查詢目前R運行的詳細情形，包含R版本號、R套件清單與版本號、語系 ##查詢目前系統環境 sessionInfo() ## R version 4.2.3 (2023-03-15 ucrt) ## Platform: x86_64-w64-mingw32/x64 (64-bit) ## Running under: Windows 10 x64 (build 22631) ## ## Matrix products: default ## ## locale: ## [1] LC_COLLATE=Chinese (Traditional)_Taiwan.utf8 ## [2] LC_CTYPE=Chinese (Traditional)_Taiwan.utf8 ## [3] LC_MONETARY=Chinese (Traditional)_Taiwan.utf8 ## [4] LC_NUMERIC=C ## [5] LC_TIME=Chinese (Traditional)_Taiwan.utf8 ## ## attached base packages: ## [1] stats graphics grDevices utils datasets methods base ## ## loaded via a namespace (and not attached): ## [1] bookdown_0.38 digest_0.6.29 R6_2.5.1 jsonlite_1.8.0 ## [5] evaluate_0.16 cachem_1.0.6 rlang_1.1.3 cli_3.6.1 ## [9] rstudioapi_0.14 jquerylib_0.1.4 bslib_0.4.0 rmarkdown_2.26 ## [13] tools_4.2.3 xfun_0.42 yaml_2.3.5 fastmap_1.1.0 ## [17] compiler_4.2.3 htmltools_0.5.5 knitr_1.45 sass_0.4.5 查詢或設定環境目錄 使用setwd，可以指定某個資料夾為當前環境目錄，getwd可以查詢目前的環境目錄。 ##設定當前目錄 setwd(&quot;C:/github/basicRnotes&quot;) ##查詢當前目錄 getwd() 如果懶得打指令，也可以透過RStudio視窗中的選項按鈕來執行，Set As Working Directory 等同於setwd指令， Go To Working Directory等同於getwd指令。 2.2 環境設定函數 環境設定函數為options()，用options()指令可以設定一些環境變量，使用help(options)可以查看詳細的參數資訊，常見操作如下: 數字位數的設置，options(digits=n)，n一般預設是7位，但實際上的範圍是1~22，可以隨意設定位數。 #這個指令，可以把R的整數表示能力設為10位元。 options(digits=10) 套件的安裝，使用下面的命令，可以指定預備下載端點。 options(CRAN=&quot;http://cran.r-project.org&quot;) install.packages(&quot;套件名稱&quot;) 設定游標類型(prompt參數設定)。 ##游標開始預設為 &gt; options(prompt=&quot;$&quot;) 設置 忽略警告(或錯誤)訊息出現 ##忽略任何警告，不顯示 options(warn=-1) ##顯示警告(預設) options(warn=1) 2.3 更改環境語系 用Sys.setlocale()查看當前語系(預設中文)，調整locale參數可暫時修改語系，但重開R時，語系會返回預設值。 Sys.setlocale() ## [1] &quot;LC_COLLATE=Chinese (Traditional)_Taiwan.utf8;LC_CTYPE=Chinese (Traditional)_Taiwan.utf8;LC_MONETARY=Chinese (Traditional)_Taiwan.utf8;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.utf8&quot; 將中文語系改為英文語系(暫時性) Sys.setlocale(&quot;LC_TIME&quot;, locale =&quot;English&quot;) # 也可以用 en.UTF-8 ## [1] &quot;English_United States.1252&quot; #範例 format(Sys.Date(), &quot;%A&quot;) #星期 ## [1] &quot;Wednesday&quot; 將英文語系變回中文語系 Sys.setlocale(&quot;LC_TIME&quot;, locale =&quot;zh_TW.UTF-8&quot;) ## [1] &quot;zh_TW.UTF-8&quot; format(Sys.Date(), &quot;%A&quot;) #星期 ## [1] &quot;星期三&quot; 4.各國語系設定 國家語系 語系設定 format(Sys.Date(), “%A”) 範例輸出 日本 Sys.setlocale(“LC_TIME”, locale =“ja_JP.UTF-8”) “土曜日” 韓國 Sys.setlocale(“LC_TIME”, locale =“ko_KR.UTF-8”) “토요일” 德語 Sys.setlocale(“LC_TIME”, locale =“de_DE.UTF-8”) “Samstag” 俄語 Sys.setlocale(“LC_TIME”, locale =“ru_RU.UTF-8”) “суббота” 西班牙語 Sys.setlocale(“LC_TIME”,locale =“es_ES.UTF-8”) “sábado” 泰語 Sys.setlocale(“LC_TIME”, locale =“th_TH.UTF-8”) “เสาร์” 越南語 Sys.setlocale(“LC_TIME”, locale =“vi_VN.UTF-8”) “Thứ Bảy” 2.4 新增專案 RStudio是一個很強大IDE工具，凡是R使用者幾乎都是利用RStudio進行開發，RStudio可以輕鬆新增一個專案，為每一個專案設置專屬環境，安裝不同版本R及相關R套件，開啟新的專案可從工具列選取File -&gt; New Project。 點選New Projet按鈕後，會出現三個選項，選項功能如下 New Directory: 建立新資料夾來新增專案 Existing Directory:用舊有資料夾來新增專案 Version Control: 建立Git/subversion版本控管的新專案 其實如想要建立有Git版本控管的新專案，可直接選擇New Directory-&gt; New Project， 勾選Create a git repository ，命名好專案名稱及選定存放位置後， 按下Create Project，即可建好新專案 創建好新專案後，RStudio通常會自動開啟新專案，可由RStudio右上角看到目前處於哪個專案中，在檔案目錄中，可看到以專案名稱為名稱的.Rproj檔，該檔就是專屬的R專案設定檔，若是哪一天該資料夾不再當專案使用時，只要刪除.Rproj檔即可。 設定專案有很多好處，除為每一個專案設置專屬環境，安裝不同版本R及相關R套件，工作路徑資料夾也是預設，同時RStudio的專案資料夾可以結合Git，做到新增或修改成程式碼後，就能進行版本控管，並可以同步更新到GitHub。 除此之外，RStudio預設許多不同的專案範本，可以讓使用者輕鬆利用這些專案範本建立套件、電子書、部落格及互動式網頁，功能強大且齊全。 2.5 常用快速鍵 快速鍵 說明 快速鍵 說明 Ctrl + L 清除Console Ctrl + = 放大螢幕 Alt + - 賦值 &lt;- Ctrl + - 縮小螢幕 Ctrl +Shift+ C 註解/取消註解 Ctrl + Enter 執行當前程式碼 Ctrl +Shift+ M 串流 %&gt;% Ctrl +Alt +R 執行全部程式碼 Ctrl +Shift+ N 新增.R檔 Ctrl +Alt +A 執行先前程式碼 "]]
=======
[["初級r--資料結構.html", "Chapter 4 初級R- 資料結構 4.1 資料型態相同 4.2 資料型態不同 4.3 特殊資料結構", " Chapter 4 初級R- 資料結構 R的資料結構以維度來看，可區分成1維、2維及3維以上，以資料型態可分為資料同質與資料不同質。資料同質表示存放資料元素全部相同，如全是數字，或全都是文字。非同質表示可同時放數字、文字及日期等各種資料元素。實務上數據分析最常用到資料結構就是二維不同質的 data.frame 資料框，其次是一維同質的Vector 向量。而在網路爬蟲時，經常將下載好的JSON檔轉換成 三維不同質list 或是 二維不同質 data.frame，下表是根據維度及資料型態區分出的5個不同資料結構 結構\\資料型態 資料型態(相同) 資料型態(不同) 1維結構 向量(vector) – 2維結構 矩陣(matrix) 資料框(data.frame) 3維結構以上 陣列(array) 列表(list) 4.1 資料型態相同 4.1.1 一維結構(Vector) 向量(Vector)是R語言中最簡單的資料結構，語法是用c 來集合 tel &lt;- c(0912370456,0954310641,0965120744) print(tel) ## [1] 912370456 954310641 965120744 name &lt;- c(&quot;王小名&quot;,&quot;張大同&quot;) print(name) ## [1] &quot;王小名&quot; &quot;張大同&quot; 4.1.2 二維結構(matrix) matrix又稱成矩陣，可處理二維資料，是由一組相同資料元素組成，可以是一組數字、也可以是一組純文字，生成一個矩陣很簡單，使用matrix關鍵字，一共有5個參數可以設定 第一參數 data 放資料 (通常是放向量Vector) 第二參數 nrow 設定列數 第三參數 ncol 設定行數 第四參數 byrow 設定資料擺放順序是否依循row依序放入，預設為FALSE，表示是直行依序放入 第五參數 dimnames 設定列名及行名，通常用list資料型態來表示list[1]為列名(row),list[2]為行名(column) #ncol為列的設定,nrow = 行設定 matrix(data =1:28,ncol = 7,byrow = TRUE) ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] ## [1,] 1 2 3 4 5 6 7 ## [2,] 8 9 10 11 12 13 14 ## [3,] 15 16 17 18 19 20 21 ## [4,] 22 23 24 25 26 27 28 使用dimnames來設定列名與行名 matrix(data =1:28,ncol = 7,byrow = TRUE, dimnames = list(c(&quot;第1週&quot;,&quot;第2週&quot;,&quot;第3週&quot;,&quot;第4週&quot;), c(&quot;星期一&quot;,&quot;星期二&quot;,&quot;星期三&quot;,&quot;星期四&quot;,&quot;星期五&quot;,&quot;星期六&quot;,&quot;星期日&quot;) )) ## 星期一 星期二 星期三 星期四 星期五 星期六 星期日 ## 第1週 1 2 3 4 5 6 7 ## 第2週 8 9 10 11 12 13 14 ## 第3週 15 16 17 18 19 20 21 ## 第4週 22 23 24 25 26 27 28 4.1.3 三維結構 (array) 陣列array能處理三維以上資料，同樣由一組相同資料元素組成,使用array關鍵字生成一個陣列，與matrix不同，array只有3個參數可以設定(無ncol、nrow及byrow參數)，數字擺放順序都是依垂直行放入，相關參數說明如下: 第一參數 data 放資料 (通常是放向量Vector) 第二參數 dim 設定 列數、行數及第三緯度以上數量 第三參數 dimnames 設定列名及行名等，以list資料型態來表示list[1]為列名(row),list[2]為行名(column),list[3]放第三維度以後的名稱 3維的array array(1:24,c(3,4,2), dimnames = list(產品=c(&quot;紅茶&quot;,&quot;綠茶&quot;,&quot;烏龍茶&quot;), 月份=c(&quot;1月&quot;,&quot;2月&quot;,&quot;3月&quot;,&quot;4月&quot;), 區域=c(&quot;東區&quot;,&quot;西區&quot;) )) ## , , 區域 = 東區 ## ## 月份 ## 產品 1月 2月 3月 4月 ## 紅茶 1 4 7 10 ## 綠茶 2 5 8 11 ## 烏龍茶 3 6 9 12 ## ## , , 區域 = 西區 ## ## 月份 ## 產品 1月 2月 3月 4月 ## 紅茶 13 16 19 22 ## 綠茶 14 17 20 23 ## 烏龍茶 15 18 21 24 4維的array array(1:36,c(3,3,2,2), dimnames = list(產品=c(&quot;第一季&quot;,&quot;第二季&quot;,&quot;第三季&quot;), 月份=c(&quot;紅茶&quot;,&quot;綠茶&quot;,&quot;烏龍茶&quot;), 區域=c(&quot;東區&quot;,&quot;西區&quot;), 縣市=c(&quot;台中&quot;,&quot;台北&quot;) )) ## , , 區域 = 東區, 縣市 = 台中 ## ## 月份 ## 產品 紅茶 綠茶 烏龍茶 ## 第一季 1 4 7 ## 第二季 2 5 8 ## 第三季 3 6 9 ## ## , , 區域 = 西區, 縣市 = 台中 ## ## 月份 ## 產品 紅茶 綠茶 烏龍茶 ## 第一季 10 13 16 ## 第二季 11 14 17 ## 第三季 12 15 18 ## ## , , 區域 = 東區, 縣市 = 台北 ## ## 月份 ## 產品 紅茶 綠茶 烏龍茶 ## 第一季 19 22 25 ## 第二季 20 23 26 ## 第三季 21 24 27 ## ## , , 區域 = 西區, 縣市 = 台北 ## ## 月份 ## 產品 紅茶 綠茶 烏龍茶 ## 第一季 28 31 34 ## 第二季 29 32 35 ## 第三季 30 33 36 4.2 資料型態不同 4.2.1 二維結構 (data.frame) data.frame類似excel中的活頁簿，row 為橫行，column為直列，每一個column為一個變數或一個欄位，每一個row 為一筆資料。 一般csv檔，可以很輕鬆用read.csv函數，將資料匯入成data.frame DT &lt;- read.csv(&quot;C:/github/basicRteach/Data/C0AG80-2024-09-12.csv&quot;) head(DT) ## 觀測時間 測站氣壓 氣溫 相對溼度 風速 風向 最大瞬間風 最大瞬間風風向 降水量 ## 1 1 1003.5 27.3 84 0.8 188 1.9 195 0 ## 2 2 1003.3 27.4 83 0.3 104 1.3 190 0 ## 3 3 1003.1 27.2 81 2.0 98 3.5 106 0 ## 4 4 1002.9 27.0 84 0.2 0 2.7 98 0 ## 5 5 1003.4 26.6 84 1.6 116 3.0 123 0 ## 6 6 1003.7 26.7 80 1.2 107 3.0 99 0 可以使用data.frame() 函數，自創data.frame 資料結構 score &lt;- data.frame(&quot;CLASS&quot; = rep(c(&quot;甲班&quot;,&quot;乙班&quot;,&quot;丙班&quot;), each = 10) , # 班級 &quot;SEX&quot; = sample(c(&quot;男&quot;,&quot;女&quot;),30,replace = T), #性別 &quot;AREA&quot; = sample(c(&quot;興和里&quot;,&quot;復興里&quot;,&quot;瑞興里&quot;,&quot;仁善里&quot;),30,replace = T), #居住里 &quot;CS&quot; = sample(30:80,30,replace = T), # 國文成績 &quot;ES&quot; = sample(50:100,30,replace = T),# 英文成績 &quot;MS&quot; = sample(40:90,30,replace = T) # 數學成績 ) 3.前幾筆查看 /後幾筆查看 用head()，可以查看前幾筆資料，預設查看前5筆;用tail()，可以查看最後幾筆資料，預設也是查看最後5筆 # 查看前5筆 head(score) ## CLASS SEX AREA CS ES MS ## 1 甲班 女 仁善里 35 68 76 ## 2 甲班 女 仁善里 71 63 51 ## 3 甲班 女 仁善里 55 55 88 ## 4 甲班 女 仁善里 35 85 49 ## 5 甲班 女 興和里 68 95 68 ## 6 甲班 男 瑞興里 50 94 89 # 查看最後5筆 tail(score) ## CLASS SEX AREA CS ES MS ## 25 丙班 女 瑞興里 72 81 59 ## 26 丙班 男 瑞興里 79 52 67 ## 27 丙班 女 興和里 36 60 59 ## 28 丙班 女 仁善里 68 75 84 ## 29 丙班 女 瑞興里 79 50 45 ## 30 丙班 女 仁善里 39 94 44 # 查看前10筆 head(score ,n=10) ## CLASS SEX AREA CS ES MS ## 1 甲班 女 仁善里 35 68 76 ## 2 甲班 女 仁善里 71 63 51 ## 3 甲班 女 仁善里 55 55 88 ## 4 甲班 女 仁善里 35 85 49 ## 5 甲班 女 興和里 68 95 68 ## 6 甲班 男 瑞興里 50 94 89 ## 7 甲班 男 瑞興里 79 96 75 ## 8 甲班 女 仁善里 51 60 55 ## 9 甲班 男 仁善里 61 64 68 ## 10 甲班 女 瑞興里 34 63 55 data.frame 行與列 之 數量查詢 可用nrow()查看data.frame共有多少筆數(行數)，用ncol()查看變數的數量(列數)，用dim()同時查看幾行幾列 # 查詢行數 nrow(score) ## [1] 30 # 查詢列數 ncol(score) ## [1] 6 # 查詢行數與列數 dim(score) ## [1] 30 6 5.屬性查看 先前教過使用class可以查看某向量屬於哪種資料類型(文字、數值、日期)，但是class一次只能查看一種資料， 而data.frame是一個擁有很多欄位(很多屬性)的複雜物件，所以可改用str()來查看資料整體屬性。 # 查詢行數 str(score) ## &#39;data.frame&#39;: 30 obs. of 6 variables: ## $ CLASS: chr &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; ... ## $ SEX : chr &quot;女&quot; &quot;女&quot; &quot;女&quot; &quot;女&quot; ... ## $ AREA : chr &quot;仁善里&quot; &quot;仁善里&quot; &quot;仁善里&quot; &quot;仁善里&quot; ... ## $ CS : int 35 71 55 35 68 50 79 51 61 34 ... ## $ ES : int 68 63 55 85 95 94 96 60 64 63 ... ## $ MS : int 76 51 88 49 68 89 75 55 68 55 ... 6.查詢欄位名/行名 # 查詢欄位名 colnames(score) # 也可使用 names(score) ## [1] &quot;CLASS&quot; &quot;SEX&quot; &quot;AREA&quot; &quot;CS&quot; &quot;ES&quot; &quot;MS&quot; # 查詢行名 rownames(score) ## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;8&quot; &quot;9&quot; &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot; &quot;15&quot; ## [16] &quot;16&quot; &quot;17&quot; &quot;18&quot; &quot;19&quot; &quot;20&quot; &quot;21&quot; &quot;22&quot; &quot;23&quot; &quot;24&quot; &quot;25&quot; &quot;26&quot; &quot;27&quot; &quot;28&quot; &quot;29&quot; &quot;30&quot; 7.變更欄位名稱 # 變更所有欄位名稱 colnames(score) &lt;- c(&quot;班級&quot;,&quot;性別&quot;, &quot;居住&quot; , &quot;國文&quot;, &quot;英文&quot;,&quot;數學&quot;) # 變更某一個欄位名稱 colnames(score)[4] &lt;- &quot;國文成績&quot; # 重新查看欄位名稱 names(score) ## [1] &quot;班級&quot; &quot;性別&quot; &quot;居住&quot; &quot;國文成績&quot; &quot;英文&quot; &quot;數學&quot; colnames(score)[4] &lt;-&quot;國文&quot; 8.提取data.frame某欄某行資料 data.frame，用中括弧[,]來找出行列內容,第一個引數代表rows數，第二個引數代表column數，第二個引數數字代表某欄位順序，也可以直接輸入變數名稱直接提取資料出來，此外data.frame+$+變數名稱，可以提取整欄資料 score[3,] #提取第三位同學整筆資料 ## 班級 性別 居住 國文 英文 數學 ## 3 甲班 女 仁善里 55 55 88 score[,5] #提取第5欄資料，英文成績 ## [1] 68 63 55 85 95 94 96 60 64 63 80 66 76 70 61 99 67 98 73 69 56 59 93 68 81 ## [26] 52 60 75 50 94 score[c(9,2,18,15),] #提取第9,2,18,15位同學整筆資料 ## 班級 性別 居住 國文 英文 數學 ## 9 甲班 男 仁善里 61 64 68 ## 2 甲班 女 仁善里 71 63 51 ## 18 乙班 女 興和里 58 98 89 ## 15 乙班 男 瑞興里 32 61 78 score[,c(1,2,5)] #提取第1,2,5欄資料(班級 性別 英文) ## 班級 性別 英文 ## 1 甲班 女 68 ## 2 甲班 女 63 ## 3 甲班 女 55 ## 4 甲班 女 85 ## 5 甲班 女 95 ## 6 甲班 男 94 ## 7 甲班 男 96 ## 8 甲班 女 60 ## 9 甲班 男 64 ## 10 甲班 女 63 ## 11 乙班 男 80 ## 12 乙班 女 66 ## 13 乙班 女 76 ## 14 乙班 女 70 ## 15 乙班 男 61 ## 16 乙班 女 99 ## 17 乙班 女 67 ## 18 乙班 女 98 ## 19 乙班 女 73 ## 20 乙班 女 69 ## 21 丙班 女 56 ## 22 丙班 女 59 ## 23 丙班 女 93 ## 24 丙班 男 68 ## 25 丙班 女 81 ## 26 丙班 男 52 ## 27 丙班 女 60 ## 28 丙班 女 75 ## 29 丙班 女 50 ## 30 丙班 女 94 score[1:2,1:4] #指定某範圍的資料提取 ## 班級 性別 居住 國文 ## 1 甲班 女 仁善里 35 ## 2 甲班 女 仁善里 71 score[,c(&quot;班級&quot;,&quot;英文&quot;)] # 可直接鍵入變數名稱提取某欄位完整資料 ## 班級 英文 ## 1 甲班 68 ## 2 甲班 63 ## 3 甲班 55 ## 4 甲班 85 ## 5 甲班 95 ## 6 甲班 94 ## 7 甲班 96 ## 8 甲班 60 ## 9 甲班 64 ## 10 甲班 63 ## 11 乙班 80 ## 12 乙班 66 ## 13 乙班 76 ## 14 乙班 70 ## 15 乙班 61 ## 16 乙班 99 ## 17 乙班 67 ## 18 乙班 98 ## 19 乙班 73 ## 20 乙班 69 ## 21 丙班 56 ## 22 丙班 59 ## 23 丙班 93 ## 24 丙班 68 ## 25 丙班 81 ## 26 丙班 52 ## 27 丙班 60 ## 28 丙班 75 ## 29 丙班 50 ## 30 丙班 94 score$班級 # $+變數名稱可以提取某變數完整資料 ## [1] &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; &quot;甲班&quot; ## [11] &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; &quot;乙班&quot; ## [21] &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; &quot;丙班&quot; 資料合併 rbind()可以合併有相同變數的data.frame的資料，增加筆數 cbind()可以合併有相同筆數的data.frame的資料，增加變數 #增加筆數 addRow &lt;- c(&quot;甲班&quot; , &quot;女&quot;, &quot;興和里&quot; , &quot;42&quot; , &quot;83&quot; , &quot;57&quot;) rbind(score,addRow) ## 班級 性別 居住 國文 英文 數學 ## 1 甲班 女 仁善里 35 68 76 ## 2 甲班 女 仁善里 71 63 51 ## 3 甲班 女 仁善里 55 55 88 ## 4 甲班 女 仁善里 35 85 49 ## 5 甲班 女 興和里 68 95 68 ## 6 甲班 男 瑞興里 50 94 89 ## 7 甲班 男 瑞興里 79 96 75 ## 8 甲班 女 仁善里 51 60 55 ## 9 甲班 男 仁善里 61 64 68 ## 10 甲班 女 瑞興里 34 63 55 ## 11 乙班 男 瑞興里 76 80 77 ## 12 乙班 女 仁善里 67 66 59 ## 13 乙班 女 興和里 31 76 71 ## 14 乙班 女 復興里 74 70 76 ## 15 乙班 男 瑞興里 32 61 78 ## 16 乙班 女 興和里 64 99 44 ## 17 乙班 女 仁善里 54 67 46 ## 18 乙班 女 興和里 58 98 89 ## 19 乙班 女 興和里 55 73 75 ## 20 乙班 女 瑞興里 71 69 68 ## 21 丙班 女 興和里 80 56 66 ## 22 丙班 女 仁善里 40 59 70 ## 23 丙班 女 興和里 43 93 79 ## 24 丙班 男 瑞興里 46 68 75 ## 25 丙班 女 瑞興里 72 81 59 ## 26 丙班 男 瑞興里 79 52 67 ## 27 丙班 女 興和里 36 60 59 ## 28 丙班 女 仁善里 68 75 84 ## 29 丙班 女 瑞興里 79 50 45 ## 30 丙班 女 仁善里 39 94 44 ## 31 甲班 女 興和里 42 83 57 #增加欄位 &quot;自然&quot; &lt;- sample(50:100,30,replace = T) score &lt;- cbind(score,自然) head(score) ## 班級 性別 居住 國文 英文 數學 自然 ## 1 甲班 女 仁善里 35 68 76 58 ## 2 甲班 女 仁善里 71 63 51 91 ## 3 甲班 女 仁善里 55 55 88 76 ## 4 甲班 女 仁善里 35 85 49 90 ## 5 甲班 女 興和里 68 95 68 76 ## 6 甲班 男 瑞興里 50 94 89 96 善用$和賦值，也可以新增變數 #增加欄位 score$社會 &lt;- sample(50:100,30,replace = T) head(score) ## 班級 性別 居住 國文 英文 數學 自然 社會 ## 1 甲班 女 仁善里 35 68 76 58 65 ## 2 甲班 女 仁善里 71 63 51 91 80 ## 3 甲班 女 仁善里 55 55 88 76 99 ## 4 甲班 女 仁善里 35 85 49 90 87 ## 5 甲班 女 興和里 68 95 68 76 94 ## 6 甲班 男 瑞興里 50 94 89 96 100 4.2.2 三維結構 (list) list 和 data.frame 最大差別是data.frame屬於二維資料，而list屬於三維資料，list可以儲存各種資料類型， 甚至可以儲存data.frame 建立list，使用list() #建立list DT &lt;- list(&quot;考試日期&quot; =Sys.Date() ,&quot;考試類型&quot; = &quot;期中考試&quot; ,Score =score[1:10,]) 資料提取 list可用$，提取每一個向度資料，亦可使用中括弧[]，提取某向度資料 DT[1] #使用[]提取 ## $考試日期 ## [1] &quot;2024-09-14&quot; DT[2] #使用[]提取 ## $考試類型 ## [1] &quot;期中考試&quot; DT$Score #使用$提取 ## 班級 性別 居住 國文 英文 數學 自然 社會 ## 1 甲班 女 仁善里 35 68 76 58 65 ## 2 甲班 女 仁善里 71 63 51 91 80 ## 3 甲班 女 仁善里 55 55 88 76 99 ## 4 甲班 女 仁善里 35 85 49 90 87 ## 5 甲班 女 興和里 68 95 68 76 94 ## 6 甲班 男 瑞興里 50 94 89 96 100 ## 7 甲班 男 瑞興里 79 96 75 80 85 ## 8 甲班 女 仁善里 51 60 55 92 78 ## 9 甲班 男 仁善里 61 64 68 100 52 ## 10 甲班 女 瑞興里 34 63 55 72 88 DT[3] 和DT[[3]] 差別，list的DT第三個向度是data.frame，若是想向下繼續擷取行列內容時， 就需要兩個中括弧[[]]，先將data.frame提取出來，之後再用[]選擇想要行列擷取出來 DT[3][2] #單個中括弧，無法擷取將data.frame內部某欄資訊 ## $&lt;NA&gt; ## NULL DT[[3]][2] ## 性別 ## 1 女 ## 2 女 ## 3 女 ## 4 女 ## 5 女 ## 6 男 ## 7 男 ## 8 女 ## 9 男 ## 10 女 DT[[3]][6:10,1:5] ## 班級 性別 居住 國文 英文 ## 6 甲班 男 瑞興里 50 94 ## 7 甲班 男 瑞興里 79 96 ## 8 甲班 女 仁善里 51 60 ## 9 甲班 男 仁善里 61 64 ## 10 甲班 女 瑞興里 34 63 4.3 特殊資料結構 "]]
>>>>>>> 77f427f6669be7e685deb01562aa9eeee9c8e20e
