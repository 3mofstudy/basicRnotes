<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 dplyr及 tidyr運用 | R語言程式設計</title>
  <meta name="description" content="Chapter 11 dplyr及 tidyr運用 | R語言程式設計" />
  <meta name="generator" content="bookdown 0.45 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 dplyr及 tidyr運用 | R語言程式設計" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 dplyr及 tidyr運用 | R語言程式設計" />
  
  
  

<meta name="author" content="露西Lucy" />


<meta name="date" content="2025-03-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="認識apply家族.html"/>
<link rel="next" href="data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R語言自我筆記(基礎篇)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 關於</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#%E9%97%9C%E6%96%BC%E4%BD%9C%E8%80%85"><i class="fa fa-check"></i><b>1.1</b> 關於作者</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#%E5%AF%AB%E6%9B%B8%E7%9A%84%E8%B5%B7%E6%BA%90"><i class="fa fa-check"></i><b>1.2</b> 寫書的起源</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#%E6%9C%AC%E6%9B%B8%E7%9A%84%E7%90%86%E8%A7%A3"><i class="fa fa-check"></i><b>1.3</b> 本書的理解</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99"><i class="fa fa-check"></i><b>1.4</b> 參考資料</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="系統環境設定.html"><a href="系統環境設定.html"><i class="fa fa-check"></i><b>2</b> 系統環境設定</a>
<ul>
<li class="chapter" data-level="2.1" data-path="系統環境設定.html"><a href="系統環境設定.html#%E7%B3%BB%E7%B5%B1%E7%92%B0%E5%A2%83%E6%9F%A5%E8%A9%A2"><i class="fa fa-check"></i><b>2.1</b> 系統環境查詢</a></li>
<li class="chapter" data-level="2.2" data-path="系統環境設定.html"><a href="系統環境設定.html#%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>2.2</b> 環境設定函數</a></li>
<li class="chapter" data-level="2.3" data-path="系統環境設定.html"><a href="系統環境設定.html#%E6%9B%B4%E6%94%B9%E7%92%B0%E5%A2%83%E8%AA%9E%E7%B3%BB"><i class="fa fa-check"></i><b>2.3</b> 更改環境語系</a></li>
<li class="chapter" data-level="2.4" data-path="系統環境設定.html"><a href="系統環境設定.html#%E6%96%B0%E5%A2%9E%E5%B0%88%E6%A1%88"><i class="fa fa-check"></i><b>2.4</b> 新增專案</a></li>
<li class="chapter" data-level="2.5" data-path="系統環境設定.html"><a href="系統環境設定.html#%E5%B8%B8%E7%94%A8%E5%BF%AB%E9%80%9F%E9%8D%B5"><i class="fa fa-check"></i><b>2.5</b> 常用快速鍵</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="元素介紹.html"><a href="元素介紹.html"><i class="fa fa-check"></i><b>3</b> 元素介紹</a>
<ul>
<li class="chapter" data-level="3.1" data-path="元素介紹.html"><a href="元素介紹.html#%E8%B3%87%E6%96%99%E8%B3%A6%E5%80%BC"><i class="fa fa-check"></i><b>3.1</b> 資料賦值</a></li>
<li class="chapter" data-level="3.2" data-path="元素介紹.html"><a href="元素介紹.html#%E8%B3%87%E6%96%99%E5%9E%8B%E6%85%8B"><i class="fa fa-check"></i><b>3.2</b> 資料型態</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="元素介紹.html"><a href="元素介紹.html#%E5%AD%97%E4%B8%B2"><i class="fa fa-check"></i><b>3.2.1</b> 字串</a></li>
<li class="chapter" data-level="3.2.2" data-path="元素介紹.html"><a href="元素介紹.html#%E6%95%B8%E5%80%BC"><i class="fa fa-check"></i><b>3.2.2</b> 數值</a></li>
<li class="chapter" data-level="3.2.3" data-path="元素介紹.html"><a href="元素介紹.html#%E5%B8%83%E6%9E%97%E5%80%BC"><i class="fa fa-check"></i><b>3.2.3</b> 布林值</a></li>
<li class="chapter" data-level="3.2.4" data-path="元素介紹.html"><a href="元素介紹.html#%E6%97%A5%E6%9C%9F%E6%99%82%E9%96%93"><i class="fa fa-check"></i><b>3.2.4</b> 日期/時間</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="元素介紹.html"><a href="元素介紹.html#%E5%B1%AC%E6%80%A7%E6%9F%A5%E8%A9%A2%E8%88%87%E8%BD%89%E6%8F%9B"><i class="fa fa-check"></i><b>3.3</b> 屬性查詢與轉換</a></li>
<li class="chapter" data-level="3.4" data-path="元素介紹.html"><a href="元素介紹.html#%E9%81%8B%E7%AE%97%E5%AD%90"><i class="fa fa-check"></i><b>3.4</b> 運算子</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="元素介紹.html"><a href="元素介紹.html#%E7%AE%97%E8%A1%93%E9%81%8B%E7%AE%97%E5%AD%90"><i class="fa fa-check"></i><b>3.4.1</b> 算術運算子</a></li>
<li class="chapter" data-level="3.4.2" data-path="元素介紹.html"><a href="元素介紹.html#%E9%82%8F%E8%BC%AF%E9%81%8B%E7%AE%97%E5%AD%90"><i class="fa fa-check"></i><b>3.4.2</b> 邏輯運算子</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="資料結構.html"><a href="資料結構.html"><i class="fa fa-check"></i><b>4</b> 資料結構</a>
<ul>
<li class="chapter" data-level="4.1" data-path="資料結構.html"><a href="資料結構.html#%E8%B3%87%E6%96%99%E5%9E%8B%E6%85%8B%E7%9B%B8%E5%90%8C"><i class="fa fa-check"></i><b>4.1</b> 資料型態相同</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="資料結構.html"><a href="資料結構.html#%E4%B8%80%E7%B6%AD%E7%B5%90%E6%A7%8Bvector"><i class="fa fa-check"></i><b>4.1.1</b> 一維結構(Vector)</a></li>
<li class="chapter" data-level="4.1.2" data-path="資料結構.html"><a href="資料結構.html#%E4%BA%8C%E7%B6%AD%E7%B5%90%E6%A7%8Bmatrix"><i class="fa fa-check"></i><b>4.1.2</b> 二維結構(matrix)</a></li>
<li class="chapter" data-level="4.1.3" data-path="資料結構.html"><a href="資料結構.html#%E4%B8%89%E7%B6%AD%E7%B5%90%E6%A7%8B-array"><i class="fa fa-check"></i><b>4.1.3</b> 三維結構 (array)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="資料結構.html"><a href="資料結構.html#%E8%B3%87%E6%96%99%E5%9E%8B%E6%85%8B%E4%B8%8D%E5%90%8C"><i class="fa fa-check"></i><b>4.2</b> 資料型態不同</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="資料結構.html"><a href="資料結構.html#%E4%BA%8C%E7%B6%AD%E7%B5%90%E6%A7%8B-data.frame"><i class="fa fa-check"></i><b>4.2.1</b> 二維結構 (data.frame)</a></li>
<li class="chapter" data-level="4.2.2" data-path="資料結構.html"><a href="資料結構.html#%E4%B8%89%E7%B6%AD%E7%B5%90%E6%A7%8B-list"><i class="fa fa-check"></i><b>4.2.2</b> 三維結構 (list)</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="資料結構.html"><a href="資料結構.html#%E7%89%B9%E6%AE%8A%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B"><i class="fa fa-check"></i><b>4.3</b> 特殊資料結構</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="資料結構.html"><a href="資料結構.html#%E5%88%97%E8%81%AF%E8%A1%A8"><i class="fa fa-check"></i><b>4.3.1</b> 列聯表</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html"><i class="fa fa-check"></i><b>5</b> 資料輸入與輸出</a>
<ul>
<li class="chapter" data-level="5.1" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E8%B3%87%E6%96%99%E9%8D%B5%E5%85%A5%E8%88%87%E5%8D%B0%E5%87%BA"><i class="fa fa-check"></i><b>5.1</b> 資料鍵入與印出</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E8%B3%87%E6%96%99%E9%8D%B5%E5%85%A5"><i class="fa fa-check"></i><b>5.1.1</b> 資料鍵入</a></li>
<li class="chapter" data-level="5.1.2" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E8%B3%87%E6%96%99%E5%8D%B0%E5%87%BA"><i class="fa fa-check"></i><b>5.1.2</b> 資料印出</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E8%A4%87%E8%A3%BD%E5%8F%8A%E8%B2%BC%E4%B8%8A"><i class="fa fa-check"></i><b>5.2</b> 複製及貼上</a></li>
<li class="chapter" data-level="5.3" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E8%B3%87%E6%96%99%E5%8C%AF%E5%85%A5"><i class="fa fa-check"></i><b>5.3</b> 資料匯入</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%85%A5csv%E6%AA%94"><i class="fa fa-check"></i><b>5.3.1</b> 匯入csv檔</a></li>
<li class="chapter" data-level="5.3.2" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%85%A5excel%E6%AA%94"><i class="fa fa-check"></i><b>5.3.2</b> 匯入excel檔</a></li>
<li class="chapter" data-level="5.3.3" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%85%A5json%E6%AA%94"><i class="fa fa-check"></i><b>5.3.3</b> 匯入json檔</a></li>
<li class="chapter" data-level="5.3.4" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%85%A5rds%E6%AA%94-%E6%88%96%E8%BC%89%E5%85%A5%E5%A4%9A%E5%80%8Br%E7%89%A9%E4%BB%B6"><i class="fa fa-check"></i><b>5.3.4</b> 匯入RDS檔 或載入多個R物件</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E8%B3%87%E6%96%99%E5%8C%AF%E5%87%BA"><i class="fa fa-check"></i><b>5.4</b> 資料匯出</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%87%BA%E7%82%BAcsv%E6%AA%94"><i class="fa fa-check"></i><b>5.4.1</b> 匯出為csv檔</a></li>
<li class="chapter" data-level="5.4.2" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%87%BA%E7%82%BAexcel%E6%AA%94"><i class="fa fa-check"></i><b>5.4.2</b> 匯出為excel檔</a></li>
<li class="chapter" data-level="5.4.3" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%87%BA%E7%82%BAjson%E6%AA%94"><i class="fa fa-check"></i><b>5.4.3</b> 匯出為json檔</a></li>
<li class="chapter" data-level="5.4.4" data-path="資料輸入與輸出.html"><a href="資料輸入與輸出.html#%E5%8C%AF%E5%87%BA%E7%82%BAr%E8%B3%87%E6%96%99%E6%A0%BC%E5%BC%8F"><i class="fa fa-check"></i><b>5.4.4</b> 匯出為R資料格式</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="流程控制.html"><a href="流程控制.html"><i class="fa fa-check"></i><b>6</b> 流程控制</a>
<ul>
<li class="chapter" data-level="6.1" data-path="流程控制.html"><a href="流程控制.html#if--else-%E9%82%8F%E8%BC%AF%E5%88%A4%E6%96%B7"><i class="fa fa-check"></i><b>6.1</b> if -else 邏輯判斷</a></li>
<li class="chapter" data-level="6.2" data-path="流程控制.html"><a href="流程控制.html#for-%E8%BF%B4%E5%9C%88"><i class="fa fa-check"></i><b>6.2</b> for 迴圈</a></li>
<li class="chapter" data-level="6.3" data-path="流程控制.html"><a href="流程控制.html#while-%E8%BF%B4%E5%9C%88"><i class="fa fa-check"></i><b>6.3</b> while 迴圈</a></li>
<li class="chapter" data-level="6.4" data-path="流程控制.html"><a href="流程控制.html#repeat-%E8%BF%B4%E5%9C%88"><i class="fa fa-check"></i><b>6.4</b> repeat 迴圈</a></li>
<li class="chapter" data-level="6.5" data-path="流程控制.html"><a href="流程控制.html#break%E8%88%87next"><i class="fa fa-check"></i><b>6.5</b> break與next</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="函數介紹.html"><a href="函數介紹.html"><i class="fa fa-check"></i><b>7</b> 函數介紹</a>
<ul>
<li class="chapter" data-level="7.1" data-path="函數介紹.html"><a href="函數介紹.html#r-%E8%AA%9E%E8%A8%80%E5%B8%B8%E7%94%A8%E5%85%A7%E5%BB%BA%E5%87%BD%E6%95%B8%E5%88%86%E9%A1%9E"><i class="fa fa-check"></i><b>7.1</b> R 語言常用內建函數分類</a></li>
<li class="chapter" data-level="7.2" data-path="函數介紹.html"><a href="函數介紹.html#%E5%AF%A6%E7%94%A8%E5%A5%97%E4%BB%B6%E4%B9%8B%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>7.2</b> 實用套件之函數</a></li>
<li class="chapter" data-level="7.3" data-path="函數介紹.html"><a href="函數介紹.html#%E8%87%AA%E8%A8%82%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>7.3</b> 自訂函數</a></li>
<li class="chapter" data-level="7.4" data-path="函數介紹.html"><a href="函數介紹.html#do.call-%E5%8F%8Acall"><i class="fa fa-check"></i><b>7.4</b> do.call 及call</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="函數介紹.html"><a href="函數介紹.html#do.call-%E5%9F%BA%E6%9C%AC%E7%94%A8%E9%80%94"><i class="fa fa-check"></i><b>7.4.1</b> 1. do.call 基本用途</a></li>
<li class="chapter" data-level="7.4.2" data-path="函數介紹.html"><a href="函數介紹.html#do.call-%E5%B8%B8%E9%81%8B%E7%94%A8%E6%96%BCdata.frame%E7%9A%84%E5%AD%90%E5%85%83%E7%B4%A0"><i class="fa fa-check"></i><b>7.4.2</b> 2. do.call 常運用於data.frame的子元素</a></li>
<li class="chapter" data-level="7.4.3" data-path="函數介紹.html"><a href="函數介紹.html#do.call-%E4%BA%A6%E5%8F%AF%E9%81%8B%E7%94%A8%E6%96%BClist-%E8%B3%87%E6%96%99%E6%A0%BC%E5%BC%8F"><i class="fa fa-check"></i><b>7.4.3</b> 3. do.call 亦可運用於list 資料格式</a></li>
<li class="chapter" data-level="7.4.4" data-path="函數介紹.html"><a href="函數介紹.html#call-%E8%88%87-do.call%E7%9A%84%E5%B7%AE%E7%95%B0"><i class="fa fa-check"></i><b>7.4.4</b> call 與 do.call的差異</a></li>
<li class="chapter" data-level="7.4.5" data-path="函數介紹.html"><a href="函數介紹.html#%E7%B7%9A%E4%B8%8A%E8%B3%87%E6%BA%90"><i class="fa fa-check"></i><b>7.4.5</b> 1.線上資源</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="基礎繪圖.html"><a href="基礎繪圖.html"><i class="fa fa-check"></i><b>8</b> 基礎繪圖</a>
<ul>
<li class="chapter" data-level="8.1" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%9F%BA%E7%A4%8E%E7%B9%AA%E5%9C%96%E7%9A%84%E5%84%AA%E5%8B%A2"><i class="fa fa-check"></i><b>8.1</b> 基礎繪圖的優勢</a></li>
<li class="chapter" data-level="8.2" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%9F%BA%E6%9C%AC%E7%B9%AA%E5%9C%96%E5%87%BD%E6%95%B8-plot"><i class="fa fa-check"></i><b>8.2</b> 基本繪圖函數 plot()</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="基礎繪圖.html"><a href="基礎繪圖.html#plot%E5%87%BD%E6%95%B8%E4%BB%8B%E7%B4%B9"><i class="fa fa-check"></i><b>8.2.1</b> plot()函數介紹</a></li>
<li class="chapter" data-level="8.2.2" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%85%A8%E5%9F%9F%E5%8F%83%E6%95%B8%E8%A8%AD%E5%AE%9A-par"><i class="fa fa-check"></i><b>8.2.2</b> 全域參數設定 par()</a></li>
<li class="chapter" data-level="8.2.3" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%9C%96%E5%BD%A2%E9%A1%9E%E5%9E%8B%E8%A8%AD%E5%AE%9A"><i class="fa fa-check"></i><b>8.2.3</b> 圖形類型設定</a></li>
<li class="chapter" data-level="8.2.4" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E9%A1%8F%E8%89%B2%E8%A8%AD%E5%AE%9A"><i class="fa fa-check"></i><b>8.2.4</b> 顏色設定</a></li>
<li class="chapter" data-level="8.2.5" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E9%BB%9E%E5%BD%A2%E7%8B%80%E5%92%8C%E7%B7%9A%E5%9E%8B"><i class="fa fa-check"></i><b>8.2.5</b> 點形狀和線型</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A6%8B%E7%B5%B1%E8%A8%88%E5%9C%96%E5%BD%A2"><i class="fa fa-check"></i><b>8.3</b> 其他常見統計圖形</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E7%9B%B4%E6%96%B9%E5%9C%96hist"><i class="fa fa-check"></i><b>8.3.1</b> 直方圖<code>hist()</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E7%9B%92%E9%AC%9A%E5%9C%96-boxplot"><i class="fa fa-check"></i><b>8.3.2</b> 盒鬚圖 <code>boxplot()</code></a></li>
<li class="chapter" data-level="8.3.3" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E9%95%B7%E6%A2%9D%E5%9C%96-barplot"><i class="fa fa-check"></i><b>8.3.3</b> 長條圖 <code>barplot()</code></a></li>
<li class="chapter" data-level="8.3.4" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%9C%93%E9%A4%85%E5%9C%96-pie"><i class="fa fa-check"></i><b>8.3.4</b> 圓餅圖 <code>pie()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%A4%9A%E5%9C%96%E4%BD%88%E5%B1%80"><i class="fa fa-check"></i><b>8.4</b> 多圖佈局</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%9F%BA%E7%A4%8E%E5%A4%9A%E5%9C%96%E4%BD%88%E5%B1%80"><i class="fa fa-check"></i><b>8.4.1</b> 基礎多圖佈局</a></li>
<li class="chapter" data-level="8.4.2" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E8%87%AA%E8%A8%82%E4%BD%88%E5%B1%80"><i class="fa fa-check"></i><b>8.4.2</b> 自訂佈局</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E5%9C%96%E5%BD%A2%E8%A8%BB%E8%A7%A3%E8%88%87%E6%96%87%E5%AD%97"><i class="fa fa-check"></i><b>8.5</b> 圖形註解與文字</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97%E5%92%8C%E6%A8%99%E9%A1%8C"><i class="fa fa-check"></i><b>8.5.1</b> 添加文字和標題</a></li>
<li class="chapter" data-level="8.5.2" data-path="基礎繪圖.html"><a href="基礎繪圖.html#%E6%B7%BB%E5%8A%A0%E9%A1%8D%E5%A4%96%E7%B7%9A%E6%A2%9D%E5%92%8C%E5%BD%A2%E7%8B%80"><i class="fa fa-check"></i><b>8.5.2</b> 添加額外線條和形狀</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="文字與時間處理.html"><a href="文字與時間處理.html"><i class="fa fa-check"></i><b>9</b> 文字與時間處理</a>
<ul>
<li class="chapter" data-level="9.1" data-path="文字與時間處理.html"><a href="文字與時間處理.html#%E5%85%A7%E5%BB%BA%E6%96%87%E5%AD%97%E5%87%BD%E6%95%B8base"><i class="fa fa-check"></i><b>9.1</b> 內建文字函數(base)</a></li>
<li class="chapter" data-level="9.2" data-path="文字與時間處理.html"><a href="文字與時間處理.html#stringr%E5%A5%97%E4%BB%B6"><i class="fa fa-check"></i><b>9.2</b> stringr套件</a></li>
<li class="chapter" data-level="9.3" data-path="文字與時間處理.html"><a href="文字與時間處理.html#%E6%AD%A3%E5%89%87%E8%A1%A8%E9%81%94%E5%BC%8F"><i class="fa fa-check"></i><b>9.3</b> 正則表達式</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="認識apply家族.html"><a href="認識apply家族.html"><i class="fa fa-check"></i><b>10</b> 認識apply家族</a>
<ul>
<li class="chapter" data-level="10.1" data-path="認識apply家族.html"><a href="認識apply家族.html#apply%E7%B3%BB%E5%88%97%E5%AE%B6%E6%97%8F%E6%87%89%E7%94%A8%E6%83%85%E5%A2%83"><i class="fa fa-check"></i><b>10.1</b> apply系列家族應用情境</a></li>
<li class="chapter" data-level="10.2" data-path="認識apply家族.html"><a href="認識apply家族.html#apply%E7%94%A8%E6%B3%95"><i class="fa fa-check"></i><b>10.2</b> apply用法</a></li>
<li class="chapter" data-level="10.3" data-path="認識apply家族.html"><a href="認識apply家族.html#sapplylapply%E7%94%A8%E6%B3%95"><i class="fa fa-check"></i><b>10.3</b> sapply/lapply用法</a></li>
<li class="chapter" data-level="10.4" data-path="認識apply家族.html"><a href="認識apply家族.html#mapply%E7%94%A8%E6%B3%95"><i class="fa fa-check"></i><b>10.4</b> mapply用法</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html"><i class="fa fa-check"></i><b>11</b> dplyr及 tidyr運用</a>
<ul>
<li class="chapter" data-level="11.1" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E7%B0%A1%E4%BB%8B"><i class="fa fa-check"></i><b>11.1</b> 簡介</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E5%AE%89%E8%A3%9D%E8%88%87%E8%BC%89%E5%85%A5"><i class="fa fa-check"></i><b>11.1.1</b> 11.1.1 安裝與載入</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#dplyr%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>11.2</b> dplyr核心函數</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#filter---%E8%B3%87%E6%96%99%E7%AF%A9%E9%81%B8"><i class="fa fa-check"></i><b>11.2.1</b> filter() - 資料篩選</a></li>
<li class="chapter" data-level="11.2.2" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#select---%E9%81%B8%E6%93%87%E8%AE%8A%E6%95%B8"><i class="fa fa-check"></i><b>11.2.2</b> select() - 選擇變數</a></li>
<li class="chapter" data-level="11.2.3" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#mutate---%E6%96%B0%E5%A2%9E%E8%AE%8A%E6%95%B8"><i class="fa fa-check"></i><b>11.2.3</b> mutate() - 新增變數</a></li>
<li class="chapter" data-level="11.2.4" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#arrange---%E8%B3%87%E6%96%99%E6%8E%92%E5%BA%8F"><i class="fa fa-check"></i><b>11.2.4</b> arrange() - 資料排序</a></li>
<li class="chapter" data-level="11.2.5" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#summarise---%E8%B3%87%E6%96%99%E5%BD%99%E7%B8%BD"><i class="fa fa-check"></i><b>11.2.5</b> summarise() - 資料彙總</a></li>
<li class="chapter" data-level="11.2.6" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#group_by---%E5%88%86%E7%B5%84%E6%93%8D%E4%BD%9C"><i class="fa fa-check"></i><b>11.2.6</b> group_by() - 分組操作</a></li>
<li class="chapter" data-level="11.2.7" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#slice---%E9%81%B8%E6%93%87%E7%89%B9%E5%AE%9A%E5%88%97"><i class="fa fa-check"></i><b>11.2.7</b> slice() - 選擇特定列</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#tidyr%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>11.3</b> tidyr核心函數</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#pivot_longer---%E5%AF%AC%E8%BD%89%E9%95%B7"><i class="fa fa-check"></i><b>11.3.1</b> pivot_longer() - 寬轉長</a></li>
<li class="chapter" data-level="11.3.2" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#pivot_wider---%E9%95%B7%E8%BD%89%E5%AF%AC"><i class="fa fa-check"></i><b>11.3.2</b> pivot_wider() - 長轉寬</a></li>
<li class="chapter" data-level="11.3.3" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#separate---%E5%88%86%E5%89%B2%E6%AC%84%E4%BD%8D"><i class="fa fa-check"></i><b>11.3.3</b> separate() - 分割欄位</a></li>
<li class="chapter" data-level="11.3.4" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#unite---%E5%90%88%E4%BD%B5%E6%AC%84%E4%BD%8D"><i class="fa fa-check"></i><b>11.3.4</b> unite() - 合併欄位</a></li>
<li class="chapter" data-level="11.3.5" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#drop_na---%E5%88%AA%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fa fa-check"></i><b>11.3.5</b> drop_na() - 刪除缺失值</a></li>
<li class="chapter" data-level="11.3.6" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#fill---%E5%A1%AB%E8%A3%9C%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fa fa-check"></i><b>11.3.6</b> fill() - 填補缺失值</a></li>
<li class="chapter" data-level="11.3.7" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#replace_na---%E6%9B%BF%E6%8F%9B%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fa fa-check"></i><b>11.3.7</b> replace_na() - 替換缺失值</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E8%88%87%E7%B6%9C%E5%90%88%E6%87%89%E7%94%A8"><i class="fa fa-check"></i><b>11.4</b> 常用技巧與綜合應用</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E7%AE%A1%E9%81%93%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E4%BD%BF%E7%94%A8"><i class="fa fa-check"></i><b>11.4.1</b> 管道操作符%&gt;%的使用</a></li>
<li class="chapter" data-level="11.4.2" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E8%99%95%E7%90%86%E5%9B%A0%E5%AD%90%E8%AE%8A%E6%95%B8"><i class="fa fa-check"></i><b>11.4.2</b> 處理因子變數</a></li>
<li class="chapter" data-level="11.4.3" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E8%B3%87%E6%96%99%E6%B8%85%E7%90%86%E6%B5%81%E7%A8%8B"><i class="fa fa-check"></i><b>11.4.3</b> 資料清理流程</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="dplyr及-tidyr運用.html"><a href="dplyr及-tidyr運用.html#%E5%BB%B6%E4%BC%B8%E5%AD%B8%E7%BF%92"><i class="fa fa-check"></i><b>11.5</b> 延伸學習</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>12</b> data.table運用</a>
<ul>
<li class="chapter" data-level="12.1" data-path="data.html"><a href="data.html#%E7%B0%A1%E4%BB%8B-1"><i class="fa fa-check"></i><b>12.1</b> 簡介</a></li>
<li class="chapter" data-level="12.2" data-path="data.html"><a href="data.html#data.table%E5%9F%BA%E7%A4%8E"><i class="fa fa-check"></i><b>12.2</b> data.table基礎</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="data.html"><a href="data.html#%E5%AE%89%E8%A3%9D%E8%88%87%E8%BC%89%E5%85%A5-1"><i class="fa fa-check"></i><b>12.2.1</b> 安裝與載入</a></li>
<li class="chapter" data-level="12.2.2" data-path="data.html"><a href="data.html#%E5%9F%BA%E6%9C%AC%E8%AA%9E%E6%B3%95"><i class="fa fa-check"></i><b>12.2.2</b> 基本語法</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="data.html"><a href="data.html#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B8%E8%88%87%E6%93%8D%E4%BD%9C"><i class="fa fa-check"></i><b>12.3</b> 常用函數與操作</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="data.html"><a href="data.html#%E5%89%B5%E5%BB%BAdata.table"><i class="fa fa-check"></i><b>12.3.1</b> 創建data.table</a></li>
<li class="chapter" data-level="12.3.2" data-path="data.html"><a href="data.html#%E8%A1%8C%E9%81%B8%E6%93%87i%E9%83%A8%E5%88%86"><i class="fa fa-check"></i><b>12.3.2</b> 行選擇（i部分）</a></li>
<li class="chapter" data-level="12.3.3" data-path="data.html"><a href="data.html#%E5%88%97%E6%93%8D%E4%BD%9Cj%E9%83%A8%E5%88%86"><i class="fa fa-check"></i><b>12.3.3</b> 列操作（j部分）</a></li>
<li class="chapter" data-level="12.3.4" data-path="data.html"><a href="data.html#%E6%B7%BB%E5%8A%A0%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%AA%E9%99%A4%E5%88%97"><i class="fa fa-check"></i><b>12.3.4</b> 添加、修改和刪除列</a></li>
<li class="chapter" data-level="12.3.5" data-path="data.html"><a href="data.html#%E5%88%86%E7%B5%84%E6%93%8D%E4%BD%9Cby%E9%83%A8%E5%88%86"><i class="fa fa-check"></i><b>12.3.5</b> 分組操作（by部分）</a></li>
<li class="chapter" data-level="12.3.6" data-path="data.html"><a href="data.html#%E6%8E%92%E5%BA%8F%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>12.3.6</b> 排序函數</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="data.html"><a href="data.html#%E9%AB%98%E6%95%88%E6%95%B8%E6%93%9A%E8%AE%80%E5%AF%AB%E8%88%87%E5%B9%B3%E8%A1%8C%E8%99%95%E7%90%86"><i class="fa fa-check"></i><b>12.4</b> 高效數據讀寫與平行處理</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="data.html"><a href="data.html#%E8%AE%80%E5%8F%96%E5%A4%A7%E5%9E%8B%E6%95%B8%E6%93%9A%E6%96%87%E4%BB%B6"><i class="fa fa-check"></i><b>12.4.1</b> 讀取大型數據文件</a></li>
<li class="chapter" data-level="12.4.2" data-path="data.html"><a href="data.html#%E5%AF%AB%E5%85%A5%E6%95%B8%E6%93%9A%E6%96%87%E4%BB%B6"><i class="fa fa-check"></i><b>12.4.2</b> 寫入數據文件</a></li>
<li class="chapter" data-level="12.4.3" data-path="data.html"><a href="data.html#%E6%8E%A7%E5%88%B6%E5%B9%B3%E8%A1%8C%E8%99%95%E7%90%86%E7%B7%9A%E7%A8%8B%E6%95%B8"><i class="fa fa-check"></i><b>12.4.3</b> 控制平行處理線程數</a></li>
<li class="chapter" data-level="12.4.4" data-path="data.html"><a href="data.html#%E5%AF%A6%E9%9A%9B%E6%87%89%E7%94%A8%E7%AF%84%E4%BE%8B"><i class="fa fa-check"></i><b>12.4.4</b> 實際應用範例</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="data.html"><a href="data.html#%E9%80%B2%E9%9A%8E%E6%8A%80%E5%B7%A7"><i class="fa fa-check"></i><b>12.5</b> 進階技巧</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="data.html"><a href="data.html#%E5%BF%AB%E9%80%9F%E5%90%88%E4%BD%B5%E6%95%B8%E6%93%9A"><i class="fa fa-check"></i><b>12.5.1</b> 快速合併數據</a></li>
<li class="chapter" data-level="12.5.2" data-path="data.html"><a href="data.html#%E9%9D%9E%E9%87%8D%E8%A4%87%E8%A8%88%E6%95%B8"><i class="fa fa-check"></i><b>12.5.2</b> 非重複計數</a></li>
<li class="chapter" data-level="12.5.3" data-path="data.html"><a href="data.html#%E6%A2%9D%E4%BB%B6%E5%88%A4%E6%96%B7%E5%87%BD%E6%95%B8"><i class="fa fa-check"></i><b>12.5.3</b> 條件判斷函數</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="data.html"><a href="data.html#%E6%95%88%E8%83%BD%E6%AF%94%E8%BC%83"><i class="fa fa-check"></i><b>12.6</b> 效能比較</a></li>
<li class="chapter" data-level="12.7" data-path="data.html"><a href="data.html#%E7%B8%BD%E7%B5%90"><i class="fa fa-check"></i><b>12.7</b> 總結</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html"><i class="fa fa-check"></i><b>13</b> ggplot2繪圖</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E7%B0%A1%E4%BB%8B-2"><i class="fa fa-check"></i><b>13.1</b> 簡介</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%AE%89%E8%A3%9D%E8%88%87%E5%8A%A0%E8%BC%89"><i class="fa fa-check"></i><b>13.1.1</b> 安裝與加載</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E8%88%87%E8%AA%9E%E6%B3%95"><i class="fa fa-check"></i><b>13.2</b> 基本概念與語法</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E6%A0%B8%E5%BF%83%E7%B5%84%E4%BB%B6"><i class="fa fa-check"></i><b>13.2.1</b> 核心組件</a></li>
<li class="chapter" data-level="13.2.2" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%9F%BA%E6%9C%AC%E8%AA%9E%E6%B3%95%E6%A8%A1%E6%9D%BF"><i class="fa fa-check"></i><b>13.2.2</b> 基本語法模板</a></li>
<li class="chapter" data-level="13.2.3" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%B8%B8%E7%94%A8%E5%B9%BE%E4%BD%95%E5%9C%96%E5%B1%A4geom"><i class="fa fa-check"></i><b>13.2.3</b> 常用幾何圖層（geom）</a></li>
<li class="chapter" data-level="13.2.4" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%88%86%E9%9D%A2%E7%B3%BB%E7%B5%B1"><i class="fa fa-check"></i><b>13.2.4</b> 分面系統</a></li>
<li class="chapter" data-level="13.2.5" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E6%A8%99%E7%B1%A4%E8%88%87%E6%A8%99%E5%BA%A6"><i class="fa fa-check"></i><b>13.2.5</b> 標籤與標度</a></li>
<li class="chapter" data-level="13.2.6" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%9D%90%E6%A8%99%E7%B3%BB%E7%B5%B1%E8%88%87%E4%B8%BB%E9%A1%8C"><i class="fa fa-check"></i><b>13.2.6</b> 坐標系統與主題</a></li>
<li class="chapter" data-level="13.2.7" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E9%80%B2%E9%9A%8E%E6%8A%80%E5%B7%A7-1"><i class="fa fa-check"></i><b>13.2.7</b> 進階技巧</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#ggplot2-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85"><i class="fa fa-check"></i><b>13.3</b> ggplot2 注意事項</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E5%B8%B8%E8%A6%8B%E5%95%8F%E9%A1%8C%E8%88%87%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88"><i class="fa fa-check"></i><b>13.3.1</b> 常見問題與解決方案</a></li>
<li class="chapter" data-level="13.3.2" data-path="ggplot2繪圖.html"><a href="ggplot2繪圖.html#%E7%B8%BD%E7%B5%90-1"><i class="fa fa-check"></i><b>13.3.2</b> 總結</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R語言程式設計</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr及-tidyr運用" class="section level1 hasAnchor" number="11">
<h1><span class="header-section-number">Chapter 11</span> dplyr及 tidyr運用<a href="dplyr及-tidyr運用.html#dplyr%E5%8F%8A-tidyr%E9%81%8B%E7%94%A8" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="簡介" class="section level2 hasAnchor" number="11.1">
<h2><span class="header-section-number">11.1</span> 簡介<a href="dplyr及-tidyr運用.html#%E7%B0%A1%E4%BB%8B" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>dplyr</code>和<code>tidyr</code>是R語言中最重要的資料處理套件，它們提供了一套直觀且一致的函數來處理資料框。這兩個套件都是<code>tidyverse</code>生態系統的核心成員，可單獨安裝，或安裝tidyverse即可。</p>
<div id="安裝與載入" class="section level3 hasAnchor" number="11.1.1">
<h3><span class="header-section-number">11.1.1</span> 11.1.1 安裝與載入<a href="dplyr及-tidyr運用.html#%E5%AE%89%E8%A3%9D%E8%88%87%E8%BC%89%E5%85%A5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="dplyr及-tidyr運用.html#cb320-1" tabindex="-1"></a><span class="co"># 安裝套件（如果尚未安裝）</span></span>
<span id="cb320-2"><a href="dplyr及-tidyr運用.html#cb320-2" tabindex="-1"></a><span class="co"># install.packages(&quot;tidyverse&quot;)</span></span>
<span id="cb320-3"><a href="dplyr及-tidyr運用.html#cb320-3" tabindex="-1"></a></span>
<span id="cb320-4"><a href="dplyr及-tidyr運用.html#cb320-4" tabindex="-1"></a><span class="co"># 載入套件</span></span>
<span id="cb320-5"><a href="dplyr及-tidyr運用.html#cb320-5" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb320-6"><a href="dplyr及-tidyr運用.html#cb320-6" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
</div>
</div>
<div id="dplyr核心函數" class="section level2 hasAnchor" number="11.2">
<h2><span class="header-section-number">11.2</span> dplyr核心函數<a href="dplyr及-tidyr運用.html#dplyr%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="filter---資料篩選" class="section level3 hasAnchor" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> filter() - 資料篩選<a href="dplyr及-tidyr運用.html#filter---%E8%B3%87%E6%96%99%E7%AF%A9%E9%81%B8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>filter()用於根據條件篩選資料列。</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="dplyr及-tidyr運用.html#cb321-1" tabindex="-1"></a><span class="co"># 使用內建資料集</span></span>
<span id="cb321-2"><a href="dplyr及-tidyr運用.html#cb321-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb321-3"><a href="dplyr及-tidyr運用.html#cb321-3" tabindex="-1"></a></span>
<span id="cb321-4"><a href="dplyr及-tidyr運用.html#cb321-4" tabindex="-1"></a><span class="co"># 基本篩選</span></span>
<span id="cb321-5"><a href="dplyr及-tidyr運用.html#cb321-5" tabindex="-1"></a><span class="fu">filter</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4      21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Merc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="dplyr及-tidyr運用.html#cb323-1" tabindex="-1"></a><span class="co"># 多重條件篩選</span></span>
<span id="cb323-2"><a href="dplyr及-tidyr運用.html#cb323-2" tabindex="-1"></a><span class="fu">filter</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">20</span>, cyl <span class="sc">==</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>##                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="dplyr及-tidyr運用.html#cb325-1" tabindex="-1"></a><span class="co"># 使用OR條件</span></span>
<span id="cb325-2"><a href="dplyr及-tidyr運用.html#cb325-2" tabindex="-1"></a><span class="fu">filter</span>(mtcars, mpg <span class="sc">&gt;</span> <span class="dv">20</span> <span class="sc">|</span> hp <span class="sc">&gt;</span> <span class="dv">150</span>)</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="dplyr及-tidyr運用.html#cb327-1" tabindex="-1"></a><span class="co"># 配合%in%運算子</span></span>
<span id="cb327-2"><a href="dplyr及-tidyr運用.html#cb327-2" tabindex="-1"></a><span class="fu">filter</span>(mtcars, cyl <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>))</span></code></pre></div>
<pre><code>##                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4      21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Valiant        18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Merc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280       19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C      17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
</div>
<div id="select---選擇變數" class="section level3 hasAnchor" number="11.2.2">
<h3><span class="header-section-number">11.2.2</span> select() - 選擇變數<a href="dplyr及-tidyr運用.html#select---%E9%81%B8%E6%93%87%E8%AE%8A%E6%95%B8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>select()用於選擇特定的資料欄。</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="dplyr及-tidyr運用.html#cb329-1" tabindex="-1"></a><span class="co"># 選擇特定欄位</span></span>
<span id="cb329-2"><a href="dplyr及-tidyr運用.html#cb329-2" tabindex="-1"></a><span class="fu">select</span>(mtcars, mpg, cyl, hp)</span></code></pre></div>
<pre><code>##                      mpg cyl  hp
## Mazda RX4           21.0   6 110
## Mazda RX4 Wag       21.0   6 110
## Datsun 710          22.8   4  93
## Hornet 4 Drive      21.4   6 110
## Hornet Sportabout   18.7   8 175
## Valiant             18.1   6 105
## Duster 360          14.3   8 245
## Merc 240D           24.4   4  62
## Merc 230            22.8   4  95
## Merc 280            19.2   6 123
## Merc 280C           17.8   6 123
## Merc 450SE          16.4   8 180
## Merc 450SL          17.3   8 180
## Merc 450SLC         15.2   8 180
## Cadillac Fleetwood  10.4   8 205
## Lincoln Continental 10.4   8 215
## Chrysler Imperial   14.7   8 230
## Fiat 128            32.4   4  66
## Honda Civic         30.4   4  52
## Toyota Corolla      33.9   4  65
## Toyota Corona       21.5   4  97
## Dodge Challenger    15.5   8 150
## AMC Javelin         15.2   8 150
## Camaro Z28          13.3   8 245
## Pontiac Firebird    19.2   8 175
## Fiat X1-9           27.3   4  66
## Porsche 914-2       26.0   4  91
## Lotus Europa        30.4   4 113
## Ford Pantera L      15.8   8 264
## Ferrari Dino        19.7   6 175
## Maserati Bora       15.0   8 335
## Volvo 142E          21.4   4 109</code></pre>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="dplyr及-tidyr運用.html#cb331-1" tabindex="-1"></a><span class="co"># 選擇欄位範圍</span></span>
<span id="cb331-2"><a href="dplyr及-tidyr運用.html#cb331-2" tabindex="-1"></a><span class="fu">select</span>(mtcars, mpg<span class="sc">:</span>drat)</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat
## Mazda RX4           21.0   6 160.0 110 3.90
## Mazda RX4 Wag       21.0   6 160.0 110 3.90
## Datsun 710          22.8   4 108.0  93 3.85
## Hornet 4 Drive      21.4   6 258.0 110 3.08
## Hornet Sportabout   18.7   8 360.0 175 3.15
## Valiant             18.1   6 225.0 105 2.76
## Duster 360          14.3   8 360.0 245 3.21
## Merc 240D           24.4   4 146.7  62 3.69
## Merc 230            22.8   4 140.8  95 3.92
## Merc 280            19.2   6 167.6 123 3.92
## Merc 280C           17.8   6 167.6 123 3.92
## Merc 450SE          16.4   8 275.8 180 3.07
## Merc 450SL          17.3   8 275.8 180 3.07
## Merc 450SLC         15.2   8 275.8 180 3.07
## Cadillac Fleetwood  10.4   8 472.0 205 2.93
## Lincoln Continental 10.4   8 460.0 215 3.00
## Chrysler Imperial   14.7   8 440.0 230 3.23
## Fiat 128            32.4   4  78.7  66 4.08
## Honda Civic         30.4   4  75.7  52 4.93
## Toyota Corolla      33.9   4  71.1  65 4.22
## Toyota Corona       21.5   4 120.1  97 3.70
## Dodge Challenger    15.5   8 318.0 150 2.76
## AMC Javelin         15.2   8 304.0 150 3.15
## Camaro Z28          13.3   8 350.0 245 3.73
## Pontiac Firebird    19.2   8 400.0 175 3.08
## Fiat X1-9           27.3   4  79.0  66 4.08
## Porsche 914-2       26.0   4 120.3  91 4.43
## Lotus Europa        30.4   4  95.1 113 3.77
## Ford Pantera L      15.8   8 351.0 264 4.22
## Ferrari Dino        19.7   6 145.0 175 3.62
## Maserati Bora       15.0   8 301.0 335 3.54
## Volvo 142E          21.4   4 121.0 109 4.11</code></pre>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="dplyr及-tidyr運用.html#cb333-1" tabindex="-1"></a><span class="co"># 排除特定欄位</span></span>
<span id="cb333-2"><a href="dplyr及-tidyr運用.html#cb333-2" tabindex="-1"></a><span class="fu">select</span>(mtcars, <span class="sc">-</span>carb, <span class="sc">-</span>gear)</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1</code></pre>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="dplyr及-tidyr運用.html#cb335-1" tabindex="-1"></a><span class="co"># 輔助函數</span></span>
<span id="cb335-2"><a href="dplyr及-tidyr運用.html#cb335-2" tabindex="-1"></a><span class="fu">select</span>(mtcars, <span class="fu">starts_with</span>(<span class="st">&quot;c&quot;</span>))  <span class="co"># 開頭為c的欄位</span></span></code></pre></div>
<pre><code>##                     cyl carb
## Mazda RX4             6    4
## Mazda RX4 Wag         6    4
## Datsun 710            4    1
## Hornet 4 Drive        6    1
## Hornet Sportabout     8    2
## Valiant               6    1
## Duster 360            8    4
## Merc 240D             4    2
## Merc 230              4    2
## Merc 280              6    4
## Merc 280C             6    4
## Merc 450SE            8    3
## Merc 450SL            8    3
## Merc 450SLC           8    3
## Cadillac Fleetwood    8    4
## Lincoln Continental   8    4
## Chrysler Imperial     8    4
## Fiat 128              4    1
## Honda Civic           4    2
## Toyota Corolla        4    1
## Toyota Corona         4    1
## Dodge Challenger      8    2
## AMC Javelin           8    2
## Camaro Z28            8    4
## Pontiac Firebird      8    2
## Fiat X1-9             4    1
## Porsche 914-2         4    2
## Lotus Europa          4    2
## Ford Pantera L        8    4
## Ferrari Dino          6    6
## Maserati Bora         8    8
## Volvo 142E            4    2</code></pre>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="dplyr及-tidyr運用.html#cb337-1" tabindex="-1"></a><span class="fu">select</span>(mtcars, <span class="fu">ends_with</span>(<span class="st">&quot;p&quot;</span>))    <span class="co"># 結尾為p的欄位</span></span></code></pre></div>
<pre><code>##                      disp  hp
## Mazda RX4           160.0 110
## Mazda RX4 Wag       160.0 110
## Datsun 710          108.0  93
## Hornet 4 Drive      258.0 110
## Hornet Sportabout   360.0 175
## Valiant             225.0 105
## Duster 360          360.0 245
## Merc 240D           146.7  62
## Merc 230            140.8  95
## Merc 280            167.6 123
## Merc 280C           167.6 123
## Merc 450SE          275.8 180
## Merc 450SL          275.8 180
## Merc 450SLC         275.8 180
## Cadillac Fleetwood  472.0 205
## Lincoln Continental 460.0 215
## Chrysler Imperial   440.0 230
## Fiat 128             78.7  66
## Honda Civic          75.7  52
## Toyota Corolla       71.1  65
## Toyota Corona       120.1  97
## Dodge Challenger    318.0 150
## AMC Javelin         304.0 150
## Camaro Z28          350.0 245
## Pontiac Firebird    400.0 175
## Fiat X1-9            79.0  66
## Porsche 914-2       120.3  91
## Lotus Europa         95.1 113
## Ford Pantera L      351.0 264
## Ferrari Dino        145.0 175
## Maserati Bora       301.0 335
## Volvo 142E          121.0 109</code></pre>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="dplyr及-tidyr運用.html#cb339-1" tabindex="-1"></a><span class="fu">select</span>(mtcars, <span class="fu">contains</span>(<span class="st">&quot;a&quot;</span>))     <span class="co"># 包含a的欄位</span></span></code></pre></div>
<pre><code>##                     drat am gear carb
## Mazda RX4           3.90  1    4    4
## Mazda RX4 Wag       3.90  1    4    4
## Datsun 710          3.85  1    4    1
## Hornet 4 Drive      3.08  0    3    1
## Hornet Sportabout   3.15  0    3    2
## Valiant             2.76  0    3    1
## Duster 360          3.21  0    3    4
## Merc 240D           3.69  0    4    2
## Merc 230            3.92  0    4    2
## Merc 280            3.92  0    4    4
## Merc 280C           3.92  0    4    4
## Merc 450SE          3.07  0    3    3
## Merc 450SL          3.07  0    3    3
## Merc 450SLC         3.07  0    3    3
## Cadillac Fleetwood  2.93  0    3    4
## Lincoln Continental 3.00  0    3    4
## Chrysler Imperial   3.23  0    3    4
## Fiat 128            4.08  1    4    1
## Honda Civic         4.93  1    4    2
## Toyota Corolla      4.22  1    4    1
## Toyota Corona       3.70  0    3    1
## Dodge Challenger    2.76  0    3    2
## AMC Javelin         3.15  0    3    2
## Camaro Z28          3.73  0    3    4
## Pontiac Firebird    3.08  0    3    2
## Fiat X1-9           4.08  1    4    1
## Porsche 914-2       4.43  1    5    2
## Lotus Europa        3.77  1    5    2
## Ford Pantera L      4.22  1    5    4
## Ferrari Dino        3.62  1    5    6
## Maserati Bora       3.54  1    5    8
## Volvo 142E          4.11  1    4    2</code></pre>
</div>
<div id="mutate---新增變數" class="section level3 hasAnchor" number="11.2.3">
<h3><span class="header-section-number">11.2.3</span> mutate() - 新增變數<a href="dplyr及-tidyr運用.html#mutate---%E6%96%B0%E5%A2%9E%E8%AE%8A%E6%95%B8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>mutate()用於建立新的資料欄。</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="dplyr及-tidyr運用.html#cb341-1" tabindex="-1"></a><span class="co"># 建立新變數</span></span>
<span id="cb341-2"><a href="dplyr及-tidyr運用.html#cb341-2" tabindex="-1"></a>mtcars_new <span class="ot">&lt;-</span> <span class="fu">mutate</span>(mtcars,</span>
<span id="cb341-3"><a href="dplyr及-tidyr運用.html#cb341-3" tabindex="-1"></a>                     <span class="at">km_per_l =</span> mpg <span class="sc">*</span> <span class="fl">0.425</span>,  <span class="co"># 轉換為km/l</span></span>
<span id="cb341-4"><a href="dplyr及-tidyr運用.html#cb341-4" tabindex="-1"></a>                     <span class="at">power_weight =</span> hp <span class="sc">/</span> wt   <span class="co"># 馬力重量比</span></span>
<span id="cb341-5"><a href="dplyr及-tidyr運用.html#cb341-5" tabindex="-1"></a>                    )</span>
<span id="cb341-6"><a href="dplyr及-tidyr運用.html#cb341-6" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">select</span>(mtcars_new, mpg, km_per_l, hp, wt, power_weight))</span></code></pre></div>
<pre><code>##                    mpg km_per_l  hp    wt power_weight
## Mazda RX4         21.0   8.9250 110 2.620     41.98473
## Mazda RX4 Wag     21.0   8.9250 110 2.875     38.26087
## Datsun 710        22.8   9.6900  93 2.320     40.08621
## Hornet 4 Drive    21.4   9.0950 110 3.215     34.21462
## Hornet Sportabout 18.7   7.9475 175 3.440     50.87209
## Valiant           18.1   7.6925 105 3.460     30.34682</code></pre>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="dplyr及-tidyr運用.html#cb343-1" tabindex="-1"></a><span class="co"># 使用ifelse建立分類變數</span></span>
<span id="cb343-2"><a href="dplyr及-tidyr運用.html#cb343-2" tabindex="-1"></a>mtcars_class <span class="ot">&lt;-</span> <span class="fu">mutate</span>(mtcars,</span>
<span id="cb343-3"><a href="dplyr及-tidyr運用.html#cb343-3" tabindex="-1"></a>                       <span class="at">efficiency =</span> <span class="fu">ifelse</span>(mpg <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">&quot;高效&quot;</span>, <span class="st">&quot;一般&quot;</span>)</span>
<span id="cb343-4"><a href="dplyr及-tidyr運用.html#cb343-4" tabindex="-1"></a>                      )</span>
<span id="cb343-5"><a href="dplyr及-tidyr運用.html#cb343-5" tabindex="-1"></a><span class="fu">table</span>(mtcars_class<span class="sc">$</span>efficiency)</span></code></pre></div>
<pre><code>## 
## 一般 高效 
##   18   14</code></pre>
</div>
<div id="arrange---資料排序" class="section level3 hasAnchor" number="11.2.4">
<h3><span class="header-section-number">11.2.4</span> arrange() - 資料排序<a href="dplyr及-tidyr運用.html#arrange---%E8%B3%87%E6%96%99%E6%8E%92%E5%BA%8F" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>arrange()用於對資料進行排序。</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="dplyr及-tidyr運用.html#cb345-1" tabindex="-1"></a><span class="co"># 升冪排序</span></span>
<span id="cb345-2"><a href="dplyr及-tidyr運用.html#cb345-2" tabindex="-1"></a><span class="fu">arrange</span>(mtcars, mpg)</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1</code></pre>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="dplyr及-tidyr運用.html#cb347-1" tabindex="-1"></a><span class="co"># 降冪排序</span></span>
<span id="cb347-2"><a href="dplyr及-tidyr運用.html#cb347-2" tabindex="-1"></a><span class="fu">arrange</span>(mtcars, <span class="fu">desc</span>(mpg))</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4</code></pre>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="dplyr及-tidyr運用.html#cb349-1" tabindex="-1"></a><span class="co"># 多重排序</span></span>
<span id="cb349-2"><a href="dplyr及-tidyr運用.html#cb349-2" tabindex="-1"></a><span class="fu">arrange</span>(mtcars, cyl, <span class="fu">desc</span>(mpg))</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4</code></pre>
</div>
<div id="summarise---資料彙總" class="section level3 hasAnchor" number="11.2.5">
<h3><span class="header-section-number">11.2.5</span> summarise() - 資料彙總<a href="dplyr及-tidyr運用.html#summarise---%E8%B3%87%E6%96%99%E5%BD%99%E7%B8%BD" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>summarise()用於計算摘要統計量。</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="dplyr及-tidyr運用.html#cb351-1" tabindex="-1"></a><span class="co"># 基本彙總</span></span>
<span id="cb351-2"><a href="dplyr及-tidyr運用.html#cb351-2" tabindex="-1"></a><span class="fu">summarise</span>(mtcars,</span>
<span id="cb351-3"><a href="dplyr及-tidyr運用.html#cb351-3" tabindex="-1"></a>          <span class="at">count =</span> <span class="fu">n</span>(),</span>
<span id="cb351-4"><a href="dplyr及-tidyr運用.html#cb351-4" tabindex="-1"></a>          <span class="at">avg_mpg =</span> <span class="fu">mean</span>(mpg),</span>
<span id="cb351-5"><a href="dplyr及-tidyr運用.html#cb351-5" tabindex="-1"></a>          <span class="at">sd_mpg =</span> <span class="fu">sd</span>(mpg),</span>
<span id="cb351-6"><a href="dplyr及-tidyr運用.html#cb351-6" tabindex="-1"></a>          <span class="at">max_hp =</span> <span class="fu">max</span>(hp)</span>
<span id="cb351-7"><a href="dplyr及-tidyr運用.html#cb351-7" tabindex="-1"></a>         )</span></code></pre></div>
<pre><code>##   count  avg_mpg   sd_mpg max_hp
## 1    32 20.09062 6.026948    335</code></pre>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="dplyr及-tidyr運用.html#cb353-1" tabindex="-1"></a><span class="co"># 配合group_by進行分組彙總</span></span>
<span id="cb353-2"><a href="dplyr及-tidyr運用.html#cb353-2" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb353-3"><a href="dplyr及-tidyr運用.html#cb353-3" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb353-4"><a href="dplyr及-tidyr運用.html#cb353-4" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb353-5"><a href="dplyr及-tidyr運用.html#cb353-5" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>(),</span>
<span id="cb353-6"><a href="dplyr及-tidyr運用.html#cb353-6" tabindex="-1"></a>    <span class="at">avg_mpg =</span> <span class="fu">mean</span>(mpg),</span>
<span id="cb353-7"><a href="dplyr及-tidyr運用.html#cb353-7" tabindex="-1"></a>    <span class="at">avg_hp =</span> <span class="fu">mean</span>(hp)</span>
<span id="cb353-8"><a href="dplyr及-tidyr運用.html#cb353-8" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##     cyl count avg_mpg avg_hp
##   &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1     4    11    26.7   82.6
## 2     6     7    19.7  122. 
## 3     8    14    15.1  209.</code></pre>
</div>
<div id="group_by---分組操作" class="section level3 hasAnchor" number="11.2.6">
<h3><span class="header-section-number">11.2.6</span> group_by() - 分組操作<a href="dplyr及-tidyr運用.html#group_by---%E5%88%86%E7%B5%84%E6%93%8D%E4%BD%9C" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>group_by()用於對資料進行分組。</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="dplyr及-tidyr運用.html#cb355-1" tabindex="-1"></a><span class="co"># 分組後進行多重操作</span></span>
<span id="cb355-2"><a href="dplyr及-tidyr運用.html#cb355-2" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb355-3"><a href="dplyr及-tidyr運用.html#cb355-3" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl, gear) <span class="sc">%&gt;%</span></span>
<span id="cb355-4"><a href="dplyr及-tidyr運用.html#cb355-4" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb355-5"><a href="dplyr及-tidyr運用.html#cb355-5" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>(),</span>
<span id="cb355-6"><a href="dplyr及-tidyr運用.html#cb355-6" tabindex="-1"></a>    <span class="at">avg_mpg =</span> <span class="fu">mean</span>(mpg),</span>
<span id="cb355-7"><a href="dplyr及-tidyr運用.html#cb355-7" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb355-8"><a href="dplyr及-tidyr運用.html#cb355-8" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 8 × 4
##     cyl  gear count avg_mpg
##   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1     4     3     1    21.5
## 2     4     4     8    26.9
## 3     4     5     2    28.2
## 4     6     3     2    19.8
## 5     6     4     4    19.8
## 6     6     5     1    19.7
## 7     8     3    12    15.0
## 8     8     5     2    15.4</code></pre>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="dplyr及-tidyr運用.html#cb357-1" tabindex="-1"></a><span class="co"># 分組後篩選，ungroup()移除分組，資料框恢復為未分組狀態</span></span>
<span id="cb357-2"><a href="dplyr及-tidyr運用.html#cb357-2" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb357-3"><a href="dplyr及-tidyr運用.html#cb357-3" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb357-4"><a href="dplyr及-tidyr運用.html#cb357-4" tabindex="-1"></a>  <span class="fu">filter</span>(mpg <span class="sc">==</span> <span class="fu">max</span>(mpg)) <span class="sc">%&gt;%</span></span>
<span id="cb357-5"><a href="dplyr及-tidyr運用.html#cb357-5" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<pre><code>## # A tibble: 3 × 11
##     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  21.4     6 258     110  3.08  3.22  19.4     1     0     3     1
## 2  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1
## 3  19.2     8 400     175  3.08  3.84  17.0     0     0     3     2</code></pre>
</div>
<div id="slice---選擇特定列" class="section level3 hasAnchor" number="11.2.7">
<h3><span class="header-section-number">11.2.7</span> slice() - 選擇特定列<a href="dplyr及-tidyr運用.html#slice---%E9%81%B8%E6%93%87%E7%89%B9%E5%AE%9A%E5%88%97" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>slice()用於選擇特定的資料列。</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="dplyr及-tidyr運用.html#cb359-1" tabindex="-1"></a><span class="co"># 選擇前幾列</span></span>
<span id="cb359-2"><a href="dplyr及-tidyr運用.html#cb359-2" tabindex="-1"></a><span class="fu">slice</span>(mtcars, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</code></pre>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="dplyr及-tidyr運用.html#cb361-1" tabindex="-1"></a><span class="co"># 選擇最後幾列</span></span>
<span id="cb361-2"><a href="dplyr及-tidyr運用.html#cb361-2" tabindex="-1"></a><span class="fu">slice</span>(mtcars, (<span class="fu">n</span>()<span class="sc">-</span><span class="dv">4</span>)<span class="sc">:</span><span class="fu">n</span>())</span></code></pre></div>
<pre><code>##                 mpg cyl  disp  hp drat    wt qsec vs am gear carb
## Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.9  1  1    5    2
## Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.5  0  1    5    4
## Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.5  0  1    5    6
## Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.6  0  1    5    8
## Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.6  1  1    4    2</code></pre>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="dplyr及-tidyr運用.html#cb363-1" tabindex="-1"></a><span class="co"># 隨機抽樣</span></span>
<span id="cb363-2"><a href="dplyr及-tidyr運用.html#cb363-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb363-3"><a href="dplyr及-tidyr運用.html#cb363-3" tabindex="-1"></a><span class="fu">slice_sample</span>(mtcars, <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Maserati Bora      15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Cadillac Fleetwood 10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Honda Civic        30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Merc 450SLC        15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Datsun 710         22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1</code></pre>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="dplyr及-tidyr運用.html#cb365-1" tabindex="-1"></a><span class="co"># 按比例抽樣</span></span>
<span id="cb365-2"><a href="dplyr及-tidyr運用.html#cb365-2" tabindex="-1"></a><span class="fu">slice_sample</span>(mtcars, <span class="at">prop =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>##                   mpg cyl  disp  hp drat   wt  qsec vs am gear carb
## Merc 280         19.2   6 167.6 123 3.92 3.44 18.30  1  0    4    4
## Fiat 128         32.4   4  78.7  66 4.08 2.20 19.47  1  1    4    1
## Dodge Challenger 15.5   8 318.0 150 2.76 3.52 16.87  0  0    3    2</code></pre>
</div>
</div>
<div id="tidyr核心函數" class="section level2 hasAnchor" number="11.3">
<h2><span class="header-section-number">11.3</span> tidyr核心函數<a href="dplyr及-tidyr運用.html#tidyr%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="pivot_longer---寬轉長" class="section level3 hasAnchor" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> pivot_longer() - 寬轉長<a href="dplyr及-tidyr運用.html#pivot_longer---%E5%AF%AC%E8%BD%89%E9%95%B7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>pivot_longer()用於將資料從寬格式轉換為長格式。</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="dplyr及-tidyr運用.html#cb367-1" tabindex="-1"></a><span class="co"># 建立範例資料</span></span>
<span id="cb367-2"><a href="dplyr及-tidyr運用.html#cb367-2" tabindex="-1"></a>sales_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb367-3"><a href="dplyr及-tidyr運用.html#cb367-3" tabindex="-1"></a>  月份 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;1月&quot;</span>, <span class="st">&quot;2月&quot;</span>, <span class="st">&quot;3月&quot;</span>),</span>
<span id="cb367-4"><a href="dplyr及-tidyr運用.html#cb367-4" tabindex="-1"></a>  產品<span class="at">A =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">130</span>),</span>
<span id="cb367-5"><a href="dplyr及-tidyr運用.html#cb367-5" tabindex="-1"></a>  產品<span class="at">B =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">95</span>),</span>
<span id="cb367-6"><a href="dplyr及-tidyr運用.html#cb367-6" tabindex="-1"></a>  產品<span class="at">C =</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">160</span>, <span class="dv">170</span>)</span>
<span id="cb367-7"><a href="dplyr及-tidyr運用.html#cb367-7" tabindex="-1"></a>)</span>
<span id="cb367-8"><a href="dplyr及-tidyr運用.html#cb367-8" tabindex="-1"></a><span class="fu">print</span>(sales_data)</span></code></pre></div>
<pre><code>##   月份 產品A 產品B 產品C
## 1  1月   100    80   150
## 2  2月   120    90   160
## 3  3月   130    95   170</code></pre>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="dplyr及-tidyr運用.html#cb369-1" tabindex="-1"></a><span class="co"># 寬轉長</span></span>
<span id="cb369-2"><a href="dplyr及-tidyr運用.html#cb369-2" tabindex="-1"></a>sales_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb369-3"><a href="dplyr及-tidyr運用.html#cb369-3" tabindex="-1"></a>  sales_data,</span>
<span id="cb369-4"><a href="dplyr及-tidyr運用.html#cb369-4" tabindex="-1"></a>  <span class="at">cols =</span> 產品A<span class="sc">:</span>產品C,</span>
<span id="cb369-5"><a href="dplyr及-tidyr運用.html#cb369-5" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">&quot;產品&quot;</span>,</span>
<span id="cb369-6"><a href="dplyr及-tidyr運用.html#cb369-6" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">&quot;銷售額&quot;</span></span>
<span id="cb369-7"><a href="dplyr及-tidyr運用.html#cb369-7" tabindex="-1"></a>)</span>
<span id="cb369-8"><a href="dplyr及-tidyr運用.html#cb369-8" tabindex="-1"></a><span class="fu">print</span>(sales_long)</span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##   月份  產品  銷售額
##   &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
## 1 1月   產品A    100
## 2 1月   產品B     80
## 3 1月   產品C    150
## 4 2月   產品A    120
## 5 2月   產品B     90
## 6 2月   產品C    160
## 7 3月   產品A    130
## 8 3月   產品B     95
## 9 3月   產品C    170</code></pre>
</div>
<div id="pivot_wider---長轉寬" class="section level3 hasAnchor" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> pivot_wider() - 長轉寬<a href="dplyr及-tidyr運用.html#pivot_wider---%E9%95%B7%E8%BD%89%E5%AF%AC" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>pivot_wider()用於將資料從長格式轉換為寬格式。</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="dplyr及-tidyr運用.html#cb371-1" tabindex="-1"></a><span class="co"># 將長格式資料轉回寬格式</span></span>
<span id="cb371-2"><a href="dplyr及-tidyr運用.html#cb371-2" tabindex="-1"></a>sales_wide <span class="ot">&lt;-</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb371-3"><a href="dplyr及-tidyr運用.html#cb371-3" tabindex="-1"></a>  sales_long,</span>
<span id="cb371-4"><a href="dplyr及-tidyr運用.html#cb371-4" tabindex="-1"></a>  <span class="at">names_from =</span> 產品,</span>
<span id="cb371-5"><a href="dplyr及-tidyr運用.html#cb371-5" tabindex="-1"></a>  <span class="at">values_from =</span> 銷售額</span>
<span id="cb371-6"><a href="dplyr及-tidyr運用.html#cb371-6" tabindex="-1"></a>)</span>
<span id="cb371-7"><a href="dplyr及-tidyr運用.html#cb371-7" tabindex="-1"></a><span class="fu">print</span>(sales_wide)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   月份  產品A 產品B 產品C
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 1月     100    80   150
## 2 2月     120    90   160
## 3 3月     130    95   170</code></pre>
</div>
<div id="separate---分割欄位" class="section level3 hasAnchor" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> separate() - 分割欄位<a href="dplyr及-tidyr運用.html#separate---%E5%88%86%E5%89%B2%E6%AC%84%E4%BD%8D" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>separate()用於將一個欄位分割為多個欄位。</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="dplyr及-tidyr運用.html#cb373-1" tabindex="-1"></a><span class="co"># 建立範例資料</span></span>
<span id="cb373-2"><a href="dplyr及-tidyr運用.html#cb373-2" tabindex="-1"></a>name_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb373-3"><a href="dplyr及-tidyr運用.html#cb373-3" tabindex="-1"></a>  姓名 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;張三_25_男&quot;</span>, <span class="st">&quot;李四_30_女&quot;</span>, <span class="st">&quot;王五_28_男&quot;</span>)</span>
<span id="cb373-4"><a href="dplyr及-tidyr運用.html#cb373-4" tabindex="-1"></a>)</span>
<span id="cb373-5"><a href="dplyr及-tidyr運用.html#cb373-5" tabindex="-1"></a></span>
<span id="cb373-6"><a href="dplyr及-tidyr運用.html#cb373-6" tabindex="-1"></a><span class="co"># 分割欄位</span></span>
<span id="cb373-7"><a href="dplyr及-tidyr運用.html#cb373-7" tabindex="-1"></a>name_separated <span class="ot">&lt;-</span> <span class="fu">separate</span>(</span>
<span id="cb373-8"><a href="dplyr及-tidyr運用.html#cb373-8" tabindex="-1"></a>  name_data,</span>
<span id="cb373-9"><a href="dplyr及-tidyr運用.html#cb373-9" tabindex="-1"></a>  <span class="at">col =</span> 姓名,</span>
<span id="cb373-10"><a href="dplyr及-tidyr運用.html#cb373-10" tabindex="-1"></a>  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;姓名&quot;</span>, <span class="st">&quot;年齡&quot;</span>, <span class="st">&quot;性別&quot;</span>),</span>
<span id="cb373-11"><a href="dplyr及-tidyr運用.html#cb373-11" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">&quot;_&quot;</span></span>
<span id="cb373-12"><a href="dplyr及-tidyr運用.html#cb373-12" tabindex="-1"></a>)</span>
<span id="cb373-13"><a href="dplyr及-tidyr運用.html#cb373-13" tabindex="-1"></a><span class="fu">print</span>(name_separated)</span></code></pre></div>
<pre><code>##   姓名 年齡 性別
## 1 張三   25   男
## 2 李四   30   女
## 3 王五   28   男</code></pre>
</div>
<div id="unite---合併欄位" class="section level3 hasAnchor" number="11.3.4">
<h3><span class="header-section-number">11.3.4</span> unite() - 合併欄位<a href="dplyr及-tidyr運用.html#unite---%E5%90%88%E4%BD%B5%E6%AC%84%E4%BD%8D" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>unite()用於將多個欄位合併為一個欄位。</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="dplyr及-tidyr運用.html#cb375-1" tabindex="-1"></a><span class="co"># 將分割的欄位重新合併</span></span>
<span id="cb375-2"><a href="dplyr及-tidyr運用.html#cb375-2" tabindex="-1"></a>name_united <span class="ot">&lt;-</span> <span class="fu">unite</span>(</span>
<span id="cb375-3"><a href="dplyr及-tidyr運用.html#cb375-3" tabindex="-1"></a>  name_separated,</span>
<span id="cb375-4"><a href="dplyr及-tidyr運用.html#cb375-4" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">&quot;個人資料&quot;</span>,</span>
<span id="cb375-5"><a href="dplyr及-tidyr運用.html#cb375-5" tabindex="-1"></a>  姓名, 年齡, 性別,</span>
<span id="cb375-6"><a href="dplyr及-tidyr運用.html#cb375-6" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb375-7"><a href="dplyr及-tidyr運用.html#cb375-7" tabindex="-1"></a>)</span>
<span id="cb375-8"><a href="dplyr及-tidyr運用.html#cb375-8" tabindex="-1"></a><span class="fu">print</span>(name_united)</span></code></pre></div>
<pre><code>##     個人資料
## 1 張三-25-男
## 2 李四-30-女
## 3 王五-28-男</code></pre>
</div>
<div id="drop_na---刪除缺失值" class="section level3 hasAnchor" number="11.3.5">
<h3><span class="header-section-number">11.3.5</span> drop_na() - 刪除缺失值<a href="dplyr及-tidyr運用.html#drop_na---%E5%88%AA%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>drop_na()用於刪除包含缺失值的列。</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="dplyr及-tidyr運用.html#cb377-1" tabindex="-1"></a><span class="co"># 建立包含缺失值的資料</span></span>
<span id="cb377-2"><a href="dplyr及-tidyr運用.html#cb377-2" tabindex="-1"></a>missing_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb377-3"><a href="dplyr及-tidyr運用.html#cb377-3" tabindex="-1"></a>  <span class="at">A =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>),</span>
<span id="cb377-4"><a href="dplyr及-tidyr運用.html#cb377-4" tabindex="-1"></a>  <span class="at">B =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb377-5"><a href="dplyr及-tidyr運用.html#cb377-5" tabindex="-1"></a>  <span class="at">C =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb377-6"><a href="dplyr及-tidyr運用.html#cb377-6" tabindex="-1"></a>)</span>
<span id="cb377-7"><a href="dplyr及-tidyr運用.html#cb377-7" tabindex="-1"></a></span>
<span id="cb377-8"><a href="dplyr及-tidyr運用.html#cb377-8" tabindex="-1"></a><span class="co"># 刪除任何包含缺失值的列</span></span>
<span id="cb377-9"><a href="dplyr及-tidyr運用.html#cb377-9" tabindex="-1"></a><span class="fu">drop_na</span>(missing_data)</span></code></pre></div>
<pre><code>##   A B C
## 1 2 2 2
## 2 4 4 4</code></pre>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="dplyr及-tidyr運用.html#cb379-1" tabindex="-1"></a><span class="co"># 只刪除特定欄位的缺失值</span></span>
<span id="cb379-2"><a href="dplyr及-tidyr運用.html#cb379-2" tabindex="-1"></a><span class="fu">drop_na</span>(missing_data, A)</span></code></pre></div>
<pre><code>##   A  B C
## 1 1 NA 1
## 2 2  2 2
## 3 4  4 4</code></pre>
</div>
<div id="fill---填補缺失值" class="section level3 hasAnchor" number="11.3.6">
<h3><span class="header-section-number">11.3.6</span> fill() - 填補缺失值<a href="dplyr及-tidyr運用.html#fill---%E5%A1%AB%E8%A3%9C%E7%BC%BA%E5%A4%B1%E5%80%BC" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>fill()用於用前一個或後一個值填補缺失值。</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="dplyr及-tidyr運用.html#cb381-1" tabindex="-1"></a><span class="co"># 建立時間序列資料</span></span>
<span id="cb381-2"><a href="dplyr及-tidyr運用.html#cb381-2" tabindex="-1"></a>time_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb381-3"><a href="dplyr及-tidyr運用.html#cb381-3" tabindex="-1"></a>  時間 <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb381-4"><a href="dplyr及-tidyr運用.html#cb381-4" tabindex="-1"></a>  數值 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="dv">40</span>, <span class="cn">NA</span>, <span class="dv">60</span>)</span>
<span id="cb381-5"><a href="dplyr及-tidyr運用.html#cb381-5" tabindex="-1"></a>)</span>
<span id="cb381-6"><a href="dplyr及-tidyr運用.html#cb381-6" tabindex="-1"></a></span>
<span id="cb381-7"><a href="dplyr及-tidyr運用.html#cb381-7" tabindex="-1"></a><span class="co"># 向下填補</span></span>
<span id="cb381-8"><a href="dplyr及-tidyr運用.html#cb381-8" tabindex="-1"></a><span class="fu">fill</span>(time_data, 數值, <span class="at">.direction =</span> <span class="st">&quot;down&quot;</span>)</span></code></pre></div>
<pre><code>##   時間 數值
## 1    1   10
## 2    2   10
## 3    3   10
## 4    4   40
## 5    5   40
## 6    6   60</code></pre>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="dplyr及-tidyr運用.html#cb383-1" tabindex="-1"></a><span class="co"># 向上填補</span></span>
<span id="cb383-2"><a href="dplyr及-tidyr運用.html#cb383-2" tabindex="-1"></a><span class="fu">fill</span>(time_data, 數值, <span class="at">.direction =</span> <span class="st">&quot;up&quot;</span>)</span></code></pre></div>
<pre><code>##   時間 數值
## 1    1   10
## 2    2   40
## 3    3   40
## 4    4   40
## 5    5   60
## 6    6   60</code></pre>
</div>
<div id="replace_na---替換缺失值" class="section level3 hasAnchor" number="11.3.7">
<h3><span class="header-section-number">11.3.7</span> replace_na() - 替換缺失值<a href="dplyr及-tidyr運用.html#replace_na---%E6%9B%BF%E6%8F%9B%E7%BC%BA%E5%A4%B1%E5%80%BC" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>replace_na()用於特定值替換缺失值。</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="dplyr及-tidyr運用.html#cb385-1" tabindex="-1"></a><span class="co"># 建立包含缺失值的資料</span></span>
<span id="cb385-2"><a href="dplyr及-tidyr運用.html#cb385-2" tabindex="-1"></a>na_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb385-3"><a href="dplyr及-tidyr運用.html#cb385-3" tabindex="-1"></a>  <span class="at">X =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>),</span>
<span id="cb385-4"><a href="dplyr及-tidyr運用.html#cb385-4" tabindex="-1"></a>  <span class="at">Y =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="cn">NA</span>)</span>
<span id="cb385-5"><a href="dplyr及-tidyr運用.html#cb385-5" tabindex="-1"></a>)</span>
<span id="cb385-6"><a href="dplyr及-tidyr運用.html#cb385-6" tabindex="-1"></a></span>
<span id="cb385-7"><a href="dplyr及-tidyr運用.html#cb385-7" tabindex="-1"></a><span class="co"># 替換缺失值</span></span>
<span id="cb385-8"><a href="dplyr及-tidyr運用.html#cb385-8" tabindex="-1"></a><span class="fu">replace_na</span>(na_data, <span class="fu">list</span>(<span class="at">X =</span> <span class="dv">0</span>, <span class="at">Y =</span> <span class="sc">-</span><span class="dv">999</span>))</span></code></pre></div>
<pre><code>##   X    Y
## 1 1 -999
## 2 0    2
## 3 3 -999
## 4 0    4
## 5 5 -999</code></pre>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="dplyr及-tidyr運用.html#cb387-1" tabindex="-1"></a><span class="co"># 使用平均值替換</span></span>
<span id="cb387-2"><a href="dplyr及-tidyr運用.html#cb387-2" tabindex="-1"></a>na_data <span class="sc">%&gt;%</span></span>
<span id="cb387-3"><a href="dplyr及-tidyr運用.html#cb387-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb387-4"><a href="dplyr及-tidyr運用.html#cb387-4" tabindex="-1"></a>    <span class="at">X =</span> <span class="fu">replace_na</span>(X, <span class="fu">mean</span>(X, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb387-5"><a href="dplyr及-tidyr運用.html#cb387-5" tabindex="-1"></a>    <span class="at">Y =</span> <span class="fu">replace_na</span>(Y, <span class="fu">mean</span>(Y, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb387-6"><a href="dplyr及-tidyr運用.html#cb387-6" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>##   X Y
## 1 1 3
## 2 3 2
## 3 3 3
## 4 3 4
## 5 5 3</code></pre>
</div>
</div>
<div id="常用技巧與綜合應用" class="section level2 hasAnchor" number="11.4">
<h2><span class="header-section-number">11.4</span> 常用技巧與綜合應用<a href="dplyr及-tidyr運用.html#%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E8%88%87%E7%B6%9C%E5%90%88%E6%87%89%E7%94%A8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="管道操作符的使用" class="section level3 hasAnchor" number="11.4.1">
<h3><span class="header-section-number">11.4.1</span> 管道操作符%&gt;%的使用<a href="dplyr及-tidyr運用.html#%E7%AE%A1%E9%81%93%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E4%BD%BF%E7%94%A8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="dplyr及-tidyr運用.html#cb389-1" tabindex="-1"></a><span class="co"># 管道操作讓程式碼更易讀</span></span>
<span id="cb389-2"><a href="dplyr及-tidyr運用.html#cb389-2" tabindex="-1"></a>result <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb389-3"><a href="dplyr及-tidyr運用.html#cb389-3" tabindex="-1"></a>  <span class="fu">filter</span>(cyl <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb389-4"><a href="dplyr及-tidyr運用.html#cb389-4" tabindex="-1"></a>  <span class="fu">select</span>(mpg, hp, wt) <span class="sc">%&gt;%</span></span>
<span id="cb389-5"><a href="dplyr及-tidyr運用.html#cb389-5" tabindex="-1"></a>  <span class="fu">mutate</span>(馬力重量比 <span class="ot">=</span> hp <span class="sc">/</span> wt) <span class="sc">%&gt;%</span></span>
<span id="cb389-6"><a href="dplyr及-tidyr運用.html#cb389-6" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(馬力重量比))</span>
<span id="cb389-7"><a href="dplyr及-tidyr運用.html#cb389-7" tabindex="-1"></a></span>
<span id="cb389-8"><a href="dplyr及-tidyr運用.html#cb389-8" tabindex="-1"></a><span class="fu">head</span>(result)</span></code></pre></div>
<pre><code>##                 mpg  hp    wt 馬力重量比
## Ferrari Dino   19.7 175 2.770   63.17690
## Mazda RX4      21.0 110 2.620   41.98473
## Mazda RX4 Wag  21.0 110 2.875   38.26087
## Merc 280       19.2 123 3.440   35.75581
## Merc 280C      17.8 123 3.440   35.75581
## Hornet 4 Drive 21.4 110 3.215   34.21462</code></pre>
</div>
<div id="處理因子變數" class="section level3 hasAnchor" number="11.4.2">
<h3><span class="header-section-number">11.4.2</span> 處理因子變數<a href="dplyr及-tidyr運用.html#%E8%99%95%E7%90%86%E5%9B%A0%E5%AD%90%E8%AE%8A%E6%95%B8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="dplyr及-tidyr運用.html#cb391-1" tabindex="-1"></a><span class="co"># 在dplyr中處理因子變數</span></span>
<span id="cb391-2"><a href="dplyr及-tidyr運用.html#cb391-2" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb391-3"><a href="dplyr及-tidyr運用.html#cb391-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb391-4"><a href="dplyr及-tidyr運用.html#cb391-4" tabindex="-1"></a>    <span class="at">cyl_factor =</span> <span class="fu">factor</span>(cyl, </span>
<span id="cb391-5"><a href="dplyr及-tidyr運用.html#cb391-5" tabindex="-1"></a>                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>),</span>
<span id="cb391-6"><a href="dplyr及-tidyr運用.html#cb391-6" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;四缸&quot;</span>, <span class="st">&quot;六缸&quot;</span>, <span class="st">&quot;八缸&quot;</span>))</span>
<span id="cb391-7"><a href="dplyr及-tidyr運用.html#cb391-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb391-8"><a href="dplyr及-tidyr運用.html#cb391-8" tabindex="-1"></a>  <span class="fu">count</span>(cyl_factor)</span></code></pre></div>
<pre><code>##   cyl_factor  n
## 1       四缸 11
## 2       六缸  7
## 3       八缸 14</code></pre>
</div>
<div id="資料清理流程" class="section level3 hasAnchor" number="11.4.3">
<h3><span class="header-section-number">11.4.3</span> 資料清理流程<a href="dplyr及-tidyr運用.html#%E8%B3%87%E6%96%99%E6%B8%85%E7%90%86%E6%B5%81%E7%A8%8B" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="dplyr及-tidyr運用.html#cb393-1" tabindex="-1"></a><span class="co"># 使用mtcars資料集進行分析</span></span>
<span id="cb393-2"><a href="dplyr及-tidyr運用.html#cb393-2" tabindex="-1"></a>mtcars_analysis <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb393-3"><a href="dplyr及-tidyr運用.html#cb393-3" tabindex="-1"></a>  <span class="co"># 新增分類變數</span></span>
<span id="cb393-4"><a href="dplyr及-tidyr運用.html#cb393-4" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb393-5"><a href="dplyr及-tidyr運用.html#cb393-5" tabindex="-1"></a>    性能等級 <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb393-6"><a href="dplyr及-tidyr運用.html#cb393-6" tabindex="-1"></a>      hp <span class="sc">&gt;</span> <span class="dv">150</span> <span class="sc">~</span> <span class="st">&quot;高性能&quot;</span>,</span>
<span id="cb393-7"><a href="dplyr及-tidyr運用.html#cb393-7" tabindex="-1"></a>      hp <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">~</span> <span class="st">&quot;中等性能&quot;</span>,</span>
<span id="cb393-8"><a href="dplyr及-tidyr運用.html#cb393-8" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;一般性能&quot;</span></span>
<span id="cb393-9"><a href="dplyr及-tidyr運用.html#cb393-9" tabindex="-1"></a>    ),</span>
<span id="cb393-10"><a href="dplyr及-tidyr運用.html#cb393-10" tabindex="-1"></a>    油耗等級 <span class="ot">=</span> <span class="fu">ifelse</span>(mpg <span class="sc">&gt;</span> <span class="dv">20</span>, <span class="st">&quot;省油&quot;</span>, <span class="st">&quot;耗油&quot;</span>)</span>
<span id="cb393-11"><a href="dplyr及-tidyr運用.html#cb393-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb393-12"><a href="dplyr及-tidyr運用.html#cb393-12" tabindex="-1"></a>  <span class="co"># 分組彙總</span></span>
<span id="cb393-13"><a href="dplyr及-tidyr運用.html#cb393-13" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl, 性能等級, 油耗等級) <span class="sc">%&gt;%</span></span>
<span id="cb393-14"><a href="dplyr及-tidyr運用.html#cb393-14" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb393-15"><a href="dplyr及-tidyr運用.html#cb393-15" tabindex="-1"></a>    車輛數 <span class="ot">=</span> <span class="fu">n</span>(),</span>
<span id="cb393-16"><a href="dplyr及-tidyr運用.html#cb393-16" tabindex="-1"></a>    平均馬力 <span class="ot">=</span> <span class="fu">mean</span>(hp),</span>
<span id="cb393-17"><a href="dplyr及-tidyr運用.html#cb393-17" tabindex="-1"></a>    平均油耗 <span class="ot">=</span> <span class="fu">mean</span>(mpg),</span>
<span id="cb393-18"><a href="dplyr及-tidyr運用.html#cb393-18" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb393-19"><a href="dplyr及-tidyr運用.html#cb393-19" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb393-20"><a href="dplyr及-tidyr運用.html#cb393-20" tabindex="-1"></a>  <span class="co"># 長轉寬以便展示</span></span>
<span id="cb393-21"><a href="dplyr及-tidyr運用.html#cb393-21" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb393-22"><a href="dplyr及-tidyr運用.html#cb393-22" tabindex="-1"></a>    <span class="at">names_from =</span> 油耗等級,</span>
<span id="cb393-23"><a href="dplyr及-tidyr運用.html#cb393-23" tabindex="-1"></a>    <span class="at">values_from =</span> 車輛數<span class="sc">:</span>平均油耗,</span>
<span id="cb393-24"><a href="dplyr及-tidyr運用.html#cb393-24" tabindex="-1"></a>    <span class="at">values_fill =</span> <span class="dv">0</span></span>
<span id="cb393-25"><a href="dplyr及-tidyr運用.html#cb393-25" tabindex="-1"></a>  )</span>
<span id="cb393-26"><a href="dplyr及-tidyr運用.html#cb393-26" tabindex="-1"></a></span>
<span id="cb393-27"><a href="dplyr及-tidyr運用.html#cb393-27" tabindex="-1"></a><span class="fu">print</span>(mtcars_analysis)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 8
##     cyl 性能等級 車輛數_省油 車輛數_耗油 平均馬力_省油 平均馬力_耗油
##   &lt;dbl&gt; &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;         &lt;dbl&gt;         &lt;dbl&gt;
## 1     4 一般性能           9           0          76.3            0 
## 2     4 中等性能           2           0         111              0 
## 3     6 中等性能           3           3         110            117 
## 4     6 高性能             0           1           0            175 
## 5     8 中等性能           0           2           0            150 
## 6     8 高性能             0          12           0            219.
## # ℹ 2 more variables: 平均油耗_省油 &lt;dbl&gt;, 平均油耗_耗油 &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="延伸學習" class="section level2 hasAnchor" number="11.5">
<h2><span class="header-section-number">11.5</span> 延伸學習<a href="dplyr及-tidyr運用.html#%E5%BB%B6%E4%BC%B8%E5%AD%B8%E7%BF%92" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>dplyr和tidyr套件提供了許多強大的函數，本章僅介紹了最常用核心函數。為了更深入學習和查閱所有可用函數，強烈推薦使用官方提供的速查表（Cheatsheets）。</p>
<ul>
<li><p>官方主頁: <a href="https://rstudio.github.io/cheatsheets/" class="uri">https://rstudio.github.io/cheatsheets/</a></p></li>
<li><p>中文版速查表</p>
<ul>
<li><p>dplyr速查表: <a href="https://rstudio.github.io/cheatsheets/translations/chinese/data-transformation_zh_cn.pdf" class="uri">https://rstudio.github.io/cheatsheets/translations/chinese/data-transformation_zh_cn.pdf</a></p></li>
<li><p>tidyr速查表: <a href="https://rstudio.github.io/cheatsheets/translations/chinese/tidyr_zh_cn.pdf" class="uri">https://rstudio.github.io/cheatsheets/translations/chinese/tidyr_zh_cn.pdf</a></p></li>
</ul></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="認識apply家族.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/3mofstudy/basicRnotes/edit/main/10_dplyr應用.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": "https://github.com/3mofstudy/basicRnotes/blob/main/10_dplyr應用.Rmd",
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
