# 初級R- 系統環境設定

## 系統環境查詢

1.  使用`sessionInfo()`可以查詢目前R運行的詳細情形，包含R版本號、R套件清單與版本號、語系

```{r echo=TRUE}
##查詢目前系統環境
sessionInfo()
```

2.  查詢或設定環境目錄

使用`setwd`，可以指定某個資料夾為當前環境目錄，`getwd`可以查詢目前的環境目錄。

```{r eval=FALSE}
##設定當前目錄
setwd("C:/github/basicRnotes")
##查詢當前目錄
getwd() 
```

如果懶得打指令，也可以透過RStudio視窗中的選項按鈕來執行，*Set As Working Directory* 等同於`setwd`指令， *Go To Working Directory*等同於`getwd`指令。

## 環境設定函數

環境設定函數為`options()`，用`options()`指令可以設定一些環境變量，使用help(options)可以查看詳細的參數資訊，常見操作如下:

1.  數字位數的設置，options(digits=n)，n一般預設是7位，但實際上的範圍是1\~22，可以隨意設定位數。

```{r eval=FALSE}
     #這個指令，可以把R的整數表示能力設為10位元。
      options(digits=10)
```

2.  套件的安裝，使用下面的命令，可以指定預備下載端點。

```{r echo=TRUE,eval=FALSE}
      options(CRAN="http://cran.r-project.org")
      install.packages("套件名稱")
```

3.  設定游標類型(prompt參數設定)。

```{r eval=FALSE}
       ##游標開始預設為 >
       options(prompt="$")
```

4.  設置 忽略警告(或錯誤)訊息出現

```{r eval=FALSE}
       ##忽略任何警告，不顯示
       options(warn=-1)
       ##顯示警告(預設)
       options(warn=1)
```

## 更改環境語系

1.  用`Sys.setlocale()`查看當前語系(預設中文)，調整`locale`參數可暫時修改語系，但重開R時，語系會返回預設值。

```{r echo=TRUE}
Sys.setlocale()  
format(Sys.Date(), "%A")  
```

2.  將中文語系改為英文語系(暫時性)

```{r echo=TRUE}
Sys.setlocale("LC_TIME", locale ="English")
Sys.setlocale("LC_TIME", locale ="en.UTF-8") # 也可以用 en.UTF-8
format(Sys.Date(), "%A") #星期
format(Sys.Date(), "%B") #月
format(Sys.Date(), "%b") #月
```

3.  將英文語系變回中文語系

```{r echo=TRUE}
Sys.setlocale("LC_TIME", locale ="zh_TW.UTF-8")
format(Sys.Date(), "%A") #星期
format(Sys.Date(), "%B") #月
```

4.  變成日本語系

```{r echo=TRUE}
Sys.setlocale("LC_TIME", locale ="ja_JP.UTF-8")
format(Sys.Date(), "%A") #星期
format(Sys.Date(), "%B") #月
```

5.變成韓國語系

```{r echo=TRUE}
Sys.setlocale("LC_TIME", locale ="ko_KR.UTF-8")
format(Sys.Date(), "%A") #星期
format(Sys.Date(), "%B") #月
```

6.  其他語系

```{r echo=TRUE}
#設置語言為德語
Sys.setlocale("LC_TIME", locale ="de_DE.UTF-8") 
format(Sys.Date(), "%A")

#設置語言為俄語
Sys.setlocale("LC_TIME", "ru_RU.UTF-8") 
format(Sys.Date(), "%A")

#設置語言為西班牙語
Sys.setlocale("LC_TIME", "es_ES.UTF-8") 
format(Sys.Date(), "%A")

#設置語言泰語
Sys.setlocale("LC_TIME", "th_TH.UTF-8")
format(Sys.Date(), "%A")

#設置越南語
Sys.setlocale("LC_TIME", "vi_VN.UTF-8")
format(Sys.Date(), "%A")
```

## 新增專案

RStudio是一個很強大IDE工具，凡是R使用者幾乎都是利用RStudio進行開發，RStudio可以輕鬆新增一個專案，為每一個專案設置專屬環境，安裝不同版本R及相關R套件，開啟新的專案可從工具列選取File -\> New Project。

![](https://i.postimg.cc/hts1m1vF/2-1.png)

點選New Projet按鈕後，會出現三個選項，選項功能如下

1.  New Directory: 建立新資料夾來新增專案

2.  Existing Directory:用舊有資料夾來新增專案

3.  Version Control: 建立Git/subversion版本控管的新專案

![](https://i.postimg.cc/nzGFVrT1/2-2.png){width="565"}

其實如想要建立有Git版本控管的新專案，可直接選擇New Directory-\> New Project， 勾選**Create a git repository** ，命名好專案名稱及選定存放位置後， 按下**Create Project**，即可建好新專案

![](https://i.postimg.cc/yYrDCSXR/2-3.png){width="563"}

創建好新專案後，RStudio通常會自動開啟新專案，可由RStudio右上角看到目前處於哪個專案中，在檔案目錄中，可看到以專案名稱為名稱的.Rproj檔，該檔就是專屬的R專案設定檔，若是哪一天該資料夾不再當專案使用時，只要刪除.Rproj檔即可。

![](https://i.postimg.cc/GtGcyHTM/2-4.png){width="563"}

設定專案有很多好處，除為每一個專案設置專屬環境，安裝不同版本R及相關R套件，工作路徑資料夾也是預設，同時RStudio的專案資料夾可以結合Git，做到新增或修改成程式碼後，就能進行版本控管，並可以同步更新到GitHub。

除此之外，RStudio預設許多不同的專案範本，可以讓使用者輕鬆利用這些專案範本建立套件、電子書、部落格及互動式網頁，功能強大且齊全。

![](https://i.postimg.cc/Wpdcz9Bh/2-5.png){width="560"}

## 常用快速鍵

| 快速鍵               | 說明          | 快速鍵             | 說明           |
|----------------------|---------------|--------------------|----------------|
| `Ctrl` + `L`         | 清除Console   | `Ctrl` + `=`       | 放大螢幕       |
| `Alt` + `-`          | 賦值 \<-      | `Ctrl` + `-`       | 縮小螢幕       |
| `Ctrl` +`Shift`+ `C` | 註解/取消註解 | `Ctrl` + `Enter`   | 執行當前程式碼 |
| `Ctrl` +`Shift`+ `M` | 串流 %\>%     | `Ctrl` +`Alt` +`R` | 執行全部程式碼 |
| `Ctrl` +`Shift`+ N   | 新增.R檔      | `Ctrl` +`Alt` +`A` | 執行先前程式碼 |
